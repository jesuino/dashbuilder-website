<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Use cases and examples :: Documentation</title>
    <link rel="canonical" href="https://www.optaplanner.org/docs/optaplanner/latest/use-cases-and-examples/use-cases-and-examples.html">
    <meta name="generator" content="Antora 2.3.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="stylesheet" href="../../../_/css/search.css">
<link rel="stylesheet" href="../../../_/css/menu.css"><!-- Adobe Analytics for Red Hat - DPAL (DTM Property Auto-Loader) - part 1/2 -->
<script id="dpal" src="https://www.redhat.com/dtm.js" type="text/javascript"></script>
<!-- Google Analytics for kie team: Global site tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-39485370-1"></script>
<script>
    window.dataLayer=window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments)
    };
    gtag('js',new Date());
    gtag('config','UA-39485370-1')
</script>
<script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <div class="navbar-item">
        <a href="../../../_/../../">
          <img src="../../../_/img/optaPlannerLogoDarkBackground200px.png" alt="OptaPlanner logo"/>
        </a>
        <a class="navbar-item" href="https://www.optaplanner.org/docs">Documentation</a>
      </div>
      <div class="navbar-item hide-for-print">
        <input id="search-input" type="text" placeholder="Search docs">
      </div>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://docs.optaplanner.org">Archive</a>
        <div class="navbar-item">
          <a class="navbar-item small-item" href="https://github.com/kiegroup/kie-tools" title="Follow KIE Tools on GitHub"><div class="github-icon"></div></a>
          <a class="navbar-item small-item" href="https://mobile.twitter.com/dashbuilder" target="_blank" title="Follow DashBuilder on Twitter"><img alt="T" src="../../../_/img/twitterLogo.png"></a>
          <a class="navbar-item small-item" href="https://www.youtube.com/channel/UCZvoXHoI4HIbKf9i-JO2jYA" target="_blank" title="DashBuilder YouTube channel"><img alt="YT" src="../../../_/img/youtubeLogo.png" style="height: 16px"></a>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="optaplanner" data-version="latest">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">OptaPlanner User Guide 8.16.1.Final</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../planner-introduction/planner-introduction.html">OptaPlanner Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Quickstart</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../quickstart/overview/overview-quickstarts.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../quickstart/hello-world/hello-world-quickstart.html">Hello world Java quick start</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../quickstart/quarkus/quarkus-quickstart.html">Quarkus Java quick start</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../quickstart/spring-boot/spring-boot-quickstart.html">Spring Boot Java quick start</a>
  </li>
</ul>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="use-cases-and-examples.html">Use cases and examples</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../planner-configuration/planner-configuration.html">OptaPlanner configuration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../score-calculation/score-calculation.html">Score calculation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../constraint-streams/constraint-streams.html">Constraint streams score calculation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../drools-score-calculation/drools-score-calculation.html">Drools score calculation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../shadow-variable/shadow-variable.html">Shadow variable</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../optimization-algorithms/optimization-algorithms.html">Optimization algorithms</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../move-and-neighborhood-selection/move-and-neighborhood-selection.html">Move and neighborhood selection</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../exhaustive-search/exhaustive-search.html">Exhaustive search</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../construction-heuristics/construction-heuristics.html">Construction heuristics</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../local-search/local-search.html">Local search</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../evolutionary-algorithms/evolutionary-algorithms.html">Evolutionary algorithms</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../hyperheuristics/hyperheuristic.html">Hyperheuristics</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../partitioned-search/partitioned-search.html">Partitioned search</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../benchmarking-and-tweaking/benchmarking-and-tweaking.html">Benchmarking and tweaking</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../repeated-planning/repeated-planning.html">Repeated planning</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../integration/integration.html">Integration</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../design-patterns/design-patterns.html">Design patterns</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../development/development.html">Development</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">OptaPlanner User Guide 8.16.1.Final</span>
    <span class="version">latest</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">OptaPlanner User Guide 8.16.1.Final</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">latest</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../planner-introduction/planner-introduction.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">OptaPlanner User Guide 8.16.1.Final</a></li>
    <li><a href="use-cases-and-examples.html">Use cases and examples</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/kiegroup/optaplanner/edit/main/optaplanner-docs/src/modules/ROOT/pages/use-cases-and-examples/use-cases-and-examples.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Use cases and examples</h1>
<div class="sect1">
<h2 id="examplesOverview"><a class="anchor" href="#examplesOverview"></a>1. Examples overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OptaPlanner has several examples.
In this manual we explain mainly using the <em>n</em> queens example and cloud balancing example.
So it is advisable to read at least those sections.</p>
</div>
<div class="paragraph">
<p>Some of the examples solve problems that are presented in academic contests.
The <code>Contest</code> column in the following table lists the contests.
It also identifies an example as being either <em>realistic</em> or <em>unrealistic</em> for the purpose of a contest.
A <em>realistic contest</em> is <em>an official, independent contest</em>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>that clearly defines a real-world use case.</p>
</li>
<li>
<p>with real-world constraints.</p>
</li>
<li>
<p>with multiple, real-world datasets.</p>
</li>
<li>
<p>that expects reproducible results within a specific time limit on specific hardware.</p>
</li>
<li>
<p>that has had serious participation from the academic and/or enterprise Operations Research community.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Realistic contests provide an objective comparison of OptaPlanner with competitive software and academic research.</p>
</div>
<div class="paragraph">
<p>The source code of all these examples is available in the distribution zip under <em class="path">examples/sources</em>
and also in git under <em class="path">optaplanner/optaplanner-examples</em>.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Examples overview</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Example</th>
<th class="tableblock halign-left valign-top">Domain</th>
<th class="tableblock halign-left valign-top">Size</th>
<th class="tableblock halign-left valign-top">Contest</th>
<th class="tableblock halign-left valign-top">Special features used</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="nqueens/nqueens.html#nQueens" class="page">N queens</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>256</code></p>
</li>
<li>
<p>Value &#8656; <code>256</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^616</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Pointless (<a href="https://en.wikipedia.org/wiki/Eight_queens_puzzle#Explicit_solutions">cheatable</a>)</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>None</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="cloud-balancing/cloud-balancing.html#cloudBalancing" class="page">Cloud balancing</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>2400</code></p>
</li>
<li>
<p>Value &#8656; <code>800</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^6967</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>No</p>
</li>
<li>
<p>Defined by us</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../repeated-planning/repeated-planning.html#realTimePlanning" class="page">Real-time planning</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="travelling-salesman/travelling-salesman.html#tsp" class="page">Traveling salesman</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 chained variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>980</code></p>
</li>
<li>
<p>Value &#8656; <code>980</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^2504</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Unrealistic</p>
</li>
<li>
<p><a href="http://www.math.uwaterloo.ca/tsp/">TSP web</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../repeated-planning/repeated-planning.html#realTimePlanning" class="page">Real-time planning</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="tennis-scheduling/tennis-scheduling.html#tennis" class="page">Tennis club scheduling</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>72</code></p>
</li>
<li>
<p>Value &#8656; <code>7</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^60</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>No</p>
</li>
<li>
<p>Defined by us</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../score-calculation/score-calculation.html#fairnessScoreConstraints" class="page">Fairness score constraints</a></p>
</li>
<li>
<p><a href="../repeated-planning/repeated-planning.html#pinnedPlanningEntities" class="page">Pinned entities</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="meeting-scheduling/meeting-scheduling.html#meetingScheduling" class="page">Meeting scheduling</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>2 variables</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>10</code></p>
</li>
<li>
<p>Value &#8656; <code>320</code> and &#8656; <code>5</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^320</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>No</p>
</li>
<li>
<p>Defined by us</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../design-patterns/design-patterns.html#timeGrainPattern" class="page">TimeGrain pattern</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="course-timetabling/course-timetabling.html#curriculumCourse" class="page">Course timetabling</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>2 variables</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>434</code></p>
</li>
<li>
<p>Value &#8656; <code>25</code> and &#8656; <code>20</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^1171</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Realistic</p>
</li>
<li>
<p><a href="http://www.cs.qub.ac.uk/itc2007/curriculmcourse/course_curriculm_index.htm">ITC 2007 track 3</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../repeated-planning/repeated-planning.html#pinnedPlanningEntities" class="page">Pinned entities</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="machine-reassignment/machine-reassignment.html#machineReassignment" class="page">Machine reassignment</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>50000</code></p>
</li>
<li>
<p>Value &#8656; <code>5000</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^184948</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Nearly realistic</p>
</li>
<li>
<p><a href="http://challenge.roadef.org/2012/en/">ROADEF 2012</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../repeated-planning/repeated-planning.html#realTimePlanning" class="page">Real-time planning</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="vehicle-routing/vehicle-routing.html#vehicleRouting" class="page">Vehicle routing</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 chained variable</p>
</li>
</ul>
</div>
</li>
<li>
<p>1 shadow entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 automatic shadow variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>2740</code></p>
</li>
<li>
<p>Value &#8656; <code>2795</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^8380</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Unrealistic</p>
</li>
<li>
<p><a href="http://neo.lcc.uma.es/vrp/">VRP web</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../shadow-variable/shadow-variable.html#shadowVariable" class="page">Shadow variable</a></p>
</li>
<li>
<p><a href="../repeated-planning/repeated-planning.html#realTimePlanning" class="page">Real-time planning</a></p>
</li>
<li>
<p><a href="../move-and-neighborhood-selection/move-and-neighborhood-selection.html#nearbySelection" class="page">Nearby selection</a></p>
</li>
<li>
<p>Real road distances</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="vehicle-routing/vehicle-routing.html#vehicleRouting" class="page">Vehicle routing</a> with time windows</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>All of Vehicle routing</p>
</li>
<li>
<p>1 shadow variable</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>2740</code></p>
</li>
<li>
<p>Value &#8656; <code>2795</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^8380</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Unrealistic</p>
</li>
<li>
<p><a href="http://neo.lcc.uma.es/vrp/">VRP web</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>All of Vehicle routing</p>
</li>
<li>
<p>Custom <a href="../shadow-variable/shadow-variable.html#customVariableListener" class="page">VariableListener</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="project-job-scheduling/project-job-scheduling.html#projectJobScheduling" class="page">Project job scheduling</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>2 variables</p>
</li>
<li>
<p>1 shadow variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>640</code></p>
</li>
<li>
<p>Value &#8656; <code>?</code> and &#8656; <code>?</code></p>
</li>
<li>
<p>Search space &#8656; <code>?</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Nearly realistic</p>
</li>
<li>
<p><a href="http://gent.cs.kuleuven.be/mista2013challenge/">MISTA 2013</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../score-calculation/score-calculation.html#bendableScore" class="page">Bendable score</a></p>
</li>
<li>
<p>Custom <a href="../shadow-variable/shadow-variable.html#customVariableListener" class="page">VariableListener</a></p>
</li>
<li>
<p><a href="../planner-configuration/planner-configuration.html#valueRangeFactory" class="page">ValueRangeFactory</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="bed-allocation/bed-allocation.html#bedAllocation" class="page">Hospital bed planning</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 nullable variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>2750</code></p>
</li>
<li>
<p>Value &#8656; <code>471</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^6851</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Unrealistic</p>
</li>
<li>
<p><a href="https://people.cs.kuleuven.be/~wim.vancroonenburg/pas/">Kaho PAS</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../repeated-planning/repeated-planning.html#overconstrainedPlanning" class="page">Overconstrained planning</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="task-assigning/task-assigning.html#taskAssigning" class="page">Task assigning</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 chained variable</p>
</li>
<li>
<p>1 shadow variable</p>
</li>
</ul>
</div>
</li>
<li>
<p>1 shadow entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 automatic shadow variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>500</code></p>
</li>
<li>
<p>Value &#8656; <code>520</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^1168</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>No</p>
</li>
<li>
<p>Defined by us</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../score-calculation/score-calculation.html#bendableScore" class="page">Bendable score</a></p>
</li>
<li>
<p><a href="../design-patterns/design-patterns.html#chainedThroughTimePattern" class="page">Chained through time pattern</a></p>
</li>
<li>
<p>Custom <a href="../shadow-variable/shadow-variable.html#customVariableListener" class="page">VariableListener</a></p>
</li>
<li>
<p><a href="../repeated-planning/repeated-planning.html#continuousPlanning" class="page">Continuous planning</a></p>
</li>
<li>
<p><a href="../repeated-planning/repeated-planning.html#realTimePlanning" class="page">Real-time planning</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="exam-timetabling/exam-timetabling.html#examination" class="page">Exam timetabling</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>2 entity classes (same hierarchy)</p>
<div class="ulist">
<ul>
<li>
<p>2 variables</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>1096</code></p>
</li>
<li>
<p>Value &#8656; <code>80</code> and &#8656; <code>49</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^3374</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Realistic</p>
</li>
<li>
<p><a href="http://www.cs.qub.ac.uk/itc2007/examtrack/exam_track_index.htm">ITC 2007 track 1</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Custom <a href="../shadow-variable/shadow-variable.html#customVariableListener" class="page">VariableListener</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="nurse-rostering/nurse-rostering.html#nurseRostering" class="page">Nurse rostering</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>752</code></p>
</li>
<li>
<p>Value &#8656; <code>50</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^1277</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Realistic</p>
</li>
<li>
<p><a href="https://www.kuleuven-kulak.be/~u0041139/nrpcompetition/nrpcompetition_description.pdf">INRC 2010</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../repeated-planning/repeated-planning.html#continuousPlanning" class="page">Continuous planning</a></p>
</li>
<li>
<p><a href="../repeated-planning/repeated-planning.html#realTimePlanning" class="page">Real-time planning</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="travelling-tournament/travelling-tournament.html#travelingTournament" class="page">Traveling tournament</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>1560</code></p>
</li>
<li>
<p>Value &#8656; <code>78</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^2301</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Unrealistic</p>
</li>
<li>
<p><a href="http://mat.tepper.cmu.edu/TOURN/">TTP</a></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Custom <a href="../move-and-neighborhood-selection/move-and-neighborhood-selection.html#moveListFactory" class="page">MoveListFactory</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="cheap-time/cheap-time.html#cheapTimeScheduling" class="page">Cheap time scheduling</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>2 variables</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>500</code></p>
</li>
<li>
<p>Value &#8656; <code>100</code> and &#8656; <code>288</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^20078</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Nearly realistic</p>
</li>
<li>
<p>ICON challenge 2014</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../planner-configuration/planner-configuration.html#annotationAlternatives" class="page">Field annotations</a></p>
</li>
<li>
<p><a href="../planner-configuration/planner-configuration.html#valueRangeFactory" class="page">ValueRangeFactory</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="investment/investment.html#investment" class="page">Investment</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
</li>
<li>
<p>1 variable</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>11</code></p>
</li>
<li>
<p>Value = <code>1000</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^4</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>No</p>
</li>
<li>
<p>Defined by us</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><a href="../planner-configuration/planner-configuration.html#valueRangeFactory" class="page">ValueRangeFactory</a></p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="conference-scheduling/conference-scheduling.html#conferenceScheduling" class="page">Conference scheduling</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>2 variables</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>216</code></p>
</li>
<li>
<p>Value &#8656; <code>18</code> and &#8656; <code>20</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^552</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>No</p>
</li>
<li>
<p>Defined by us</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="rock-tour/rock-tour.html#rockTour" class="page">Rock tour</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 chained variable</p>
</li>
<li>
<p>4 shadow variables</p>
</li>
</ul>
</div>
</li>
<li>
<p>1 shadow entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 automatic shadow variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>47</code></p>
</li>
<li>
<p>Value &#8656; <code>48</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^59</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>No</p>
</li>
<li>
<p>Defined by us</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="flight-crew-scheduling/flight-crew-scheduling.html#flightCrewScheduling" class="page">Flight crew scheduling</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>1 entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 variable</p>
</li>
</ul>
</div>
</li>
<li>
<p>1 shadow entity class</p>
<div class="ulist">
<ul>
<li>
<p>1 automatic shadow variable</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656; <code>4375</code></p>
</li>
<li>
<p>Value &#8656; <code>750</code></p>
</li>
<li>
<p>Search space &#8656; <code>10^12578</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>No</p>
</li>
<li>
<p>Defined by us</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="coach-shuttle-gathering/coach-shuttle-gathering.html#coachShuttleGathering" class="page">Coach shuttle gathering</a></p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>2 entity class (BusStop, Shuttle)</p>
<div class="ulist">
<ul>
<li>
<p>1 variable each (previousBusOrStop for BusStop, destination for Shuttle)</p>
</li>
</ul>
</div>
</li>
<li>
<p>1 shadow entity class (Coach)</p>
<div class="ulist">
<ul>
<li>
<p>2 automatic shadow variable (next bus stop and
passenger quantity total) (also on Shuttle)</p>
</li>
</ul>
</div>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Entity &#8656;  <code>6</code> shuttles and
<code>12</code> bus stops</p>
</li>
<li>
<p>Value &#8656; <code>3</code> coaches, <code>6</code> shuttles and <code>12</code> bus stops</p>
</li>
<li>
<p>Search space &#8656; <code>10^23</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>No</p>
</li>
<li>
<p>Defined by us</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p>Custom <a href="../shadow-variable/shadow-variable.html#customVariableListener" class="page">VariableListener</a></p>
</li>
<li>
<p><a href="../shadow-variable/shadow-variable.html#shadowVariable" class="page">Shadow variable</a></p>
</li>
</ul>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="nQueens"><a class="anchor" href="#nQueens"></a>2. N queens</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="nQueensProblemDescription"><a class="anchor" href="#nQueensProblemDescription"></a>2.1. Problem description</h3>
<div class="paragraph">
<p>Place <em>n</em> queens on a <em>n</em> sized chessboard so that no two queens can attack each other.
The most common <em>n</em> queens puzzle is the eight queens puzzle, with <em>n = 8</em>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/nqueens/nQueensScreenshot.png" alt="nQueensScreenshot">
</div>
</div>
<div class="paragraph">
<p>Constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use a chessboard of <em>n</em> columns and <em>n</em> rows.</p>
</li>
<li>
<p>Place <em>n</em> queens on the chessboard.</p>
</li>
<li>
<p>No two queens can attack each other. A queen can attack any other queen on the same horizontal, vertical or diagonal line.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This documentation heavily uses the four queens puzzle as the primary example.</p>
</div>
<div class="paragraph">
<p>A proposed solution could be:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/nqueens/partiallySolvedNQueens04Explained.png" alt="partiallySolvedNQueens04Explained">
</div>
<div class="title">Figure 1. A Wrong Solution for the Four Queens Puzzle</div>
</div>
<div class="paragraph">
<p>The above solution is wrong because queens <code>A1</code> and <code>B0</code> can attack each other (so can queens <code>B0</code> and <code>D0</code>). Removing queen <code>B0</code> would respect the "no two queens can attack each other" constraint, but would break the "place <em>n</em> queens" constraint.</p>
</div>
<div class="paragraph">
<p>Below is a correct solution:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/nqueens/solvedNQueens04.png" alt="solvedNQueens04">
</div>
<div class="title">Figure 2. A Correct Solution for the Four Queens Puzzle</div>
</div>
<div class="paragraph">
<p>All the constraints have been met, so the solution is correct.</p>
</div>
<div class="paragraph">
<p>Note that most <em>n</em> queens puzzles have multiple correct solutions.
We will focus on finding a single correct solution for a given <em>n</em>, not on finding the number of possible correct solutions for a given <em>n</em>.</p>
</div>
</div>
<div class="sect2">
<h3 id="nQueensProblemSize"><a class="anchor" href="#nQueensProblemSize"></a>2.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>4queens   has   4 queens with a search space of    256.
8queens   has   8 queens with a search space of   10^7.
16queens  has  16 queens with a search space of  10^19.
32queens  has  32 queens with a search space of  10^48.
64queens  has  64 queens with a search space of 10^115.
256queens has 256 queens with a search space of 10^616.</code></pre>
</div>
</div>
<div class="paragraph">
<p>The implementation of the <em>n</em> queens example has not been optimized because it functions as a beginner example. Nevertheless, it can easily handle 64 queens.
With a few changes it has been shown to easily handle 5000 queens and more.</p>
</div>
</div>
<div class="sect2">
<h3 id="nQueensDomainModel"><a class="anchor" href="#nQueensDomainModel"></a>2.3. Domain model</h3>
<div class="paragraph">
<p>This example uses the domain model to solve the four queens problem.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Creating a Domain Model</strong>
A good domain model will make it easier to understand and solve your planning problem.</p>
<div class="paragraph">
<p>This is the domain model for the <em>n</em> queens example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public class Column {

    private int index;

    // ... getters and setters
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public class Row {

    private int index;

    // ... getters and setters
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public class Queen {

    private Column column;
    private Row row;

    public int getAscendingDiagonalIndex() {...}
    public int getDescendingDiagonalIndex() {...}

    // ... getters and setters
}</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Calculating the Search Space.</strong></p>
<div class="paragraph">
<p>A <code>Queen</code> instance has a <code>Column</code> (for example: 0 is column A, 1 is column B, &#8230;&#8203;) and a <code>Row</code> (its row, for example: 0 is row 0, 1 is row 1, &#8230;&#8203;).</p>
</div>
<div class="paragraph">
<p>The ascending diagonal line and the descending diagonal line can be calculated based on the column and the row.</p>
</div>
<div class="paragraph">
<p>The column and row indexes start from the upper left corner of the chessboard.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public class NQueens {

    private int n;
    private List&lt;Column&gt; columnList;
    private List&lt;Row&gt; rowList;

    private List&lt;Queen&gt; queenList;

    private SimpleScore score;

    // ... getters and setters
}</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Finding the Solution</strong></p>
<div class="paragraph">
<p>A single <code>NQueens</code> instance contains a list of all <code>Queen</code> instances.
It is the solution implementation which is supplied to, solved by, and retrieved from the <code>Solver</code>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Notice that in the four queens example, NQueens&#8217;s <code>getN()</code> method will always return four.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. A Solution for Four Queens Shown in the Domain Model</caption>
<colgroup>
<col style="width: 54.5454%;">
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 9.0909%;">
<col style="width: 9.091%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">A solution</th>
<th class="tableblock halign-left valign-top">Queen</th>
<th class="tableblock halign-left valign-top">columnIndex</th>
<th class="tableblock halign-left valign-top">rowIndex</th>
<th class="tableblock halign-left valign-top">ascendingDiagonalIndex (columnIndex + rowIndex)</th>
<th class="tableblock halign-left valign-top">descendingDiagonalIndex (columnIndex - rowIndex)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top" rowspan="4"><div class="content"><div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/nqueens/partiallySolvedNQueens04Explained.png" alt="partiallySolvedNQueens04Explained">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>1 (**)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>B0</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>0 (*)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>1 (**)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>C2</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>D0</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>0 (*)</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>When two queens share the same column, row or diagonal line, such as (*) and (**), they can attack each other.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cloudBalancing"><a class="anchor" href="#cloudBalancing"></a>3. Cloud balancing</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="cloudBalancingTutorial"><a class="anchor" href="#cloudBalancingTutorial"></a>3.1. Cloud balancing tutorial</h3>
<div class="sect3">
<h4 id="cloudBalancingProblemDescription"><a class="anchor" href="#cloudBalancingProblemDescription"></a>3.1.1. Problem description</h4>
<div class="paragraph">
<p>Suppose your company owns a number of cloud computers and needs to run a number of processes on those computers.
Assign each process to a computer.</p>
</div>
<div class="paragraph">
<p>The following hard constraints must be fulfilled:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Every computer must be able to handle the minimum hardware requirements of the sum of its processes:</p>
<div class="ulist">
<ul>
<li>
<p><strong>CPU capacity</strong>: The CPU power of a computer must be at least the sum of the CPU power required by the processes assigned to that computer.</p>
</li>
<li>
<p><strong>Memory capacity</strong>: The RAM memory of a computer must be at least the sum of the RAM memory required by the processes assigned to that computer.</p>
</li>
<li>
<p><strong>Network capacity</strong>: The network bandwidth of a computer must be at least the sum of the network bandwidth required by the processes assigned to that computer.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following soft constraints should be optimized:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each computer that has one or more processes assigned, incurs a maintenance cost (which is fixed per computer).</p>
<div class="ulist">
<ul>
<li>
<p><strong>Cost</strong>: Minimize the total maintenance cost.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>This problem is a form of <em>bin packing</em>.
The following is a simplified example, in which we assign four processes to two computers with two constraints (CPU and RAM) with a simple algorithm:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/cloud-balancing/cloudBalanceUseCase.png" alt="cloudBalanceUseCase">
</div>
</div>
<div class="paragraph">
<p>The simple algorithm used here is the <em>First Fit Decreasing</em> algorithm, which assigns the bigger processes first and assigns the smaller processes to the remaining space.
As you can see, it is not optimal, as it does not leave enough room to assign the yellow process <code>D</code>.</p>
</div>
<div class="paragraph">
<p>OptaPlanner does find the more optimal solution by using additional, smarter algorithms.
It also scales: both in data (more processes, more computers) and constraints (more hardware requirements, other constraints).
So let&#8217;s see how OptaPlanner can be used in this scenario.</p>
</div>
<div class="paragraph">
<p>Here&#8217;s an executive summary of this example and <a href="machine-reassignment/machine-reassignment.html#machineReassignment" class="page">an advanced implementation with more constraints</a>:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/cloud-balancing/cloudOptimizationValueProposition.png" alt="cloudOptimizationValueProposition">
</div>
</div>
</div>
<div class="sect3">
<h4 id="cloudBalancingProblemSize"><a class="anchor" href="#cloudBalancingProblemSize"></a>3.1.2. Problem size</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Cloud Balancing Problem Size</caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Problem Size</th>
<th class="tableblock halign-left valign-top">Computers</th>
<th class="tableblock halign-left valign-top">Processes</th>
<th class="tableblock halign-left valign-top">Search Space</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2computers-6processes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3computers-9processes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10^4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4computers-12processes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10^7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">100computers-300processes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">100</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">300</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10^600</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">200computers-600processes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">200</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">600</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10^1380</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">400computers-1200processes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">400</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1200</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10^3122</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">800computers-2400processes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">800</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2400</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10^6967</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect2">
<h3 id="cloudBalancingDomainModel"><a class="anchor" href="#cloudBalancingDomainModel"></a>3.2. Using the domain model</h3>
<div class="sect3">
<h4 id="cloudBalancingDomainModelDesign"><a class="anchor" href="#cloudBalancingDomainModelDesign"></a>3.2.1. Domain model design</h4>
<div class="paragraph">
<p>Using a <a href="../design-patterns/design-patterns.html#domainModelingGuide" class="page">domain model</a> helps determine which classes are planning entities and which of their properties are planning variables. It also helps to simplify constraints, improve performance, and increase flexibility for future needs.</p>
</div>
<div class="paragraph">
<p>To create a domain model, define all the objects that represent the input data for the problem. In this simple example, the objects are processes and computers.</p>
</div>
<div class="paragraph">
<p>A separate object in the domain model must represent a full data set of problem, which contains the input data as well as a solution. In this example, this object holds a list of computers and a list of processes. Each process is assigned to a computer; the distribution of processes between computers is the solution.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Draw a class diagram of your domain model.</p>
</li>
<li>
<p>Normalize it to remove duplicate data.</p>
</li>
<li>
<p>Write down some sample instances for each class.</p>
<div class="ulist">
<ul>
<li>
<p><code>Computer</code>: represents a computer with certain hardware and maintenance costs.</p>
<div class="paragraph">
<p>In this example, the sample instances for the <code>Computer</code> class are: <code>cpuPower</code>, <code>memory</code>, <code>networkBandwidth</code>, <code>cost</code>.</p>
</div>
</li>
<li>
<p><code>Process</code>: represents a process with a demand. Needs to be assigned to a <code>Computer</code> by OptaPlanner.</p>
<div class="paragraph">
<p>Sample instances for <code>Process</code> are: <code>requiredCpuPower</code>, <code>requiredMemory</code>, and <code>requiredNetworkBandwidth</code>.</p>
</div>
</li>
<li>
<p><code>CloudBalance</code>: represents a problem. Contains every <code>Computer</code> and <code>Process</code> for a certain data set.</p>
<div class="paragraph">
<p>For an object representing the full data set and solution, a sample instance holding the <em>score</em> must be present. OptaPlanner can calculate and compare the scores for different solutions; the solution with the highest score is the optimal solution. Therefore, the sample instance for <code>CloudBalance</code> is <code>score</code>.</p>
</div>
</li>
</ul>
</div>
</li>
<li>
<p>Determine which relationships (or fields) change during planning.</p>
<div class="ulist">
<ul>
<li>
<p><em>Planning entity</em>: The class (or classes) that OptaPlanner can change during solving. In this example, it is the class <code>Process</code>, because OptaPlanner can assign processes to computers.</p>
</li>
<li>
<p><em>Problem fact</em>: A class representing input data that OptaPlanner cannot change.</p>
</li>
<li>
<p><em>Planning variable</em>: The property (or properties) of a planning entity class that changes during solving. In this example, it is the property <code>computer</code> on the class <code>Process</code>.</p>
</li>
<li>
<p><em>Planning solution</em>: The class that represents a solution to the problem. This class must represent the full data set and contain all planning entities. In this example that is the class <code>CloudBalance</code>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>In the UML class diagram below, the OptaPlanner concepts are already annotated:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/cloud-balancing/cloudBalanceClassDiagram.png" alt="cloudBalanceClassDiagram">
</div>
</div>
</div>
<div class="sect3">
<h4 id="cloudBalancingDomainModelImplementation"><a class="anchor" href="#cloudBalancingDomainModelImplementation"></a>3.2.2. Domain model implementation</h4>
<div class="sect4">
<h5 id="cloudBalancingClassComputer"><a class="anchor" href="#cloudBalancingClassComputer"></a>The <code>Computer</code> class</h5>
<div class="paragraph">
<p>The <code>Computer</code> class is a POJO (Plain Old Java Object). Usually, you will have more of this kind of classes with input data.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. CloudComputer.java</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public class CloudComputer ... {

    private int cpuPower;
    private int memory;
    private int networkBandwidth;
    private int cost;

    ... // getters
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect4">
<h5 id="cloudBalancingClassProcess"><a class="anchor" href="#cloudBalancingClassProcess"></a>The <code>Process</code> class</h5>
<div class="paragraph">
<p>The <code>Process</code> class is particularly important. It is the class that is modified during solving.</p>
</div>
<div class="paragraph">
<p>We need to tell OptaPlanner that it can change the property <code>computer</code>. To do this:
. Annotate the class with <code>@PlanningEntity</code>.
. Annotate the getter <code>getComputer()</code> with <code>@PlanningVariable</code>.</p>
</div>
<div class="paragraph">
<p>Of course, the property <code>computer</code> needs a setter too, so OptaPlanner can change it during solving.</p>
</div>
<div class="exampleblock">
<div class="title">Example 2. CloudProcess.java</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">@PlanningEntity(...)
public class CloudProcess ... {

    private int requiredCpuPower;
    private int requiredMemory;
    private int requiredNetworkBandwidth;

    private CloudComputer computer;

    ... // getters

    @PlanningVariable(valueRangeProviderRefs = {"computerRange"})
    public CloudComputer getComputer() {
        return computer;
    }

    public void setComputer(CloudComputer computer) {
        computer = computer;
    }

    // ************************************************************************
    // Complex methods
    // ************************************************************************

    ...

}</code></pre>
</div>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>OptaPlanner needs to know which values it can choose from to assign to the property <code>computer</code>. Those values are retrieved from the method <code>CloudBalance.getComputerList()</code> on the planning solution, which returns a list of all computers in the current data set.</p>
</li>
<li>
<p>The <code>@PlanningVariable</code>'s <code>valueRangeProviderRefs</code> parameter on <code>CloudProcess.getComputer()</code> needs to match with the <code>@ValueRangeProvider</code>'s <code>id</code> on <code>CloudBalance.getComputerList()</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Instead of getter annotations, it is also possible to use <a href="../planner-configuration/planner-configuration.html#annotationAlternatives" class="page">field annotations</a>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect4">
<h5 id="cloudBalancingClassCloudBalance"><a class="anchor" href="#cloudBalancingClassCloudBalance"></a>The <code>CloudBalance</code> class</h5>
<div class="paragraph">
<p>The <code>CloudBalance</code> class has a <em class="path">@PlanningSolution</em> annotation.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>It holds a list of all computers and a list of all processes.</p>
</li>
<li>
<p>It represents both the planning problem and (if it is initialized) the planning solution.</p>
</li>
<li>
<p>To save a solution, OptaPlanner initializes a new instance of the class.</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The <code>processList</code> property holds a list of processes.
OptaPlanner can change the processes, allocating them to different computers.
Therefore, a process is a planning entity and the list of processes is a collection of planning entities.
We annotate the getter <code>getProcessList()</code> with <code>@PlanningEntityCollectionProperty</code>.</p>
</li>
<li>
<p>The <code>computerList</code> property holds a list of computers.
OptaPlanner cannot change the computers.
Therefore, a computer is a problem fact.
Especially for <a href="../constraint-streams/constraint-streams.html#constraintStreams" class="page">Constraint Streams</a> and <a href="../drools-score-calculation/drools-score-calculation.html#droolsScoreCalculation" class="page">Drools score calculation</a>,
the property <code>computerList</code> needs to be annotated with a <code>@ProblemFactCollectionProperty</code> so that OptaPlanner can retrieve the list of computers (problem facts) and make it available to the rule engine.</p>
</li>
<li>
<p>The <code>CloudBalance</code> class also has a <code>@PlanningScore</code> annotated property <code>score</code>, which is the <code>Score</code> of that solution in its current state.
OptaPlanner automatically updates it when it calculates a <code>Score</code> for a solution instance. Therefore, this property needs a setter.</p>
</li>
</ol>
</div>
</li>
</ul>
</div>
<div class="exampleblock">
<div class="title">Example 3. CloudBalance.java</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">@PlanningSolution
public class CloudBalance ... {

    private List&lt;CloudComputer&gt; computerList;

    private List&lt;CloudProcess&gt; processList;

    private HardSoftScore score;

    @ValueRangeProvider(id = "computerRange")
    @ProblemFactCollectionProperty
    public List&lt;CloudComputer&gt; getComputerList() {
        return computerList;
    }

    @PlanningEntityCollectionProperty
    public List&lt;CloudProcess&gt; getProcessList() {
        return processList;
    }

    @PlanningScore
    public HardSoftScore getScore() {
        return score;
    }

    public void setScore(HardSoftScore score) {
        this.score = score;
    }

    ...
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cloudBalancingMainMethod"><a class="anchor" href="#cloudBalancingMainMethod"></a>3.3. Run the cloud balancing Hello World</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="../planner-introduction/planner-introduction.html#runTheExamplesInAnIDE" class="page">Download and configure the examples in your preferred IDE.</a></p>
</li>
<li>
<p>Create a run configuration with the following main class: <code>org.optaplanner.examples.cloudbalancing.app.CloudBalancingHelloWorld</code></p>
<div class="paragraph">
<p>By default, the Cloud Balancing Hello World is configured to run for 120 seconds.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>It executes the following code:</p>
</div>
<div class="exampleblock">
<div class="title">Example 4. CloudBalancingHelloWorld.java</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public class CloudBalancingHelloWorld {

    public static void main(String[] args) {
        // Build the Solver
        SolverFactory&lt;CloudBalance&gt; solverFactory = SolverFactory.createFromXmlResource(
                "org/optaplanner/examples/cloudbalancing/solver/cloudBalancingSolverConfig.xml");
        Solver&lt;CloudBalance&gt; solver = solverFactory.buildSolver();

        // Load a problem with 400 computers and 1200 processes
        CloudBalance unsolvedCloudBalance = new CloudBalancingGenerator().createCloudBalance(400, 1200);

        // Solve the problem
        CloudBalance solvedCloudBalance = solver.solve(unsolvedCloudBalance);

        // Display the result
        System.out.println("\nSolved cloudBalance with 400 computers and 1200 processes:\n"
                + toDisplayString(solvedCloudBalance));
    }

    ...
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>The code example does the following:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Build the <code>Solver</code> based on a solver configuration
which can come from <a href="../planner-configuration/planner-configuration.html#solverConfigurationByXML" class="page">an XML file</a> as classpath resource:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">        SolverFactory&lt;CloudBalance&gt; solverFactory = SolverFactory.createFromXmlResource(
                "org/optaplanner/examples/cloudbalancing/solver/cloudBalancingSolverConfig.xml");
        Solver&lt;CloudBalance&gt; solver = solverFactory.buildSolver();</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or to avoid XML, build it through <a href="../planner-configuration/planner-configuration.html#solverConfigurationByJavaAPI" class="page">the programmatic API</a> instead:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">        SolverFactory&lt;CloudBalance&gt; solverFactory = SolverFactory.create(new SolverConfig()
                .withSolutionClass(CloudBalance.class)
                .withEntityClasses(CloudProcess.class)
                .withEasyScoreCalculatorClass(CloudBalancingEasyScoreCalculator.class)
                .withTerminationSpentLimit(Duration.ofMinutes(2)));
        Solver&lt;CloudBalance&gt; solver = solverFactory.buildSolver();</code></pre>
</div>
</div>
<div class="paragraph">
<p>The solver configuration is explained in <a href="#cloudBalancingSolverConfiguration">the next section</a>.</p>
</div>
</li>
<li>
<p>Load the problem.</p>
<div class="paragraph">
<p><code>CloudBalancingGenerator</code> generates a random problem: replace this with a class that loads a real problem, for example from a database.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">        CloudBalance unsolvedCloudBalance = new CloudBalancingGenerator().createCloudBalance(400, 1200);</code></pre>
</div>
</div>
</li>
<li>
<p>Solve the problem.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">        CloudBalance solvedCloudBalance = solver.solve(unsolvedCloudBalance);</code></pre>
</div>
</div>
</li>
<li>
<p>Display the result.</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">        System.out.println("\nSolved cloudBalance with 400 computers and 1200 processes:\n"
                + toDisplayString(solvedCloudBalance));</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="cloudBalancingSolverConfiguration"><a class="anchor" href="#cloudBalancingSolverConfiguration"></a>3.4. Solver configuration</h3>
<div class="paragraph">
<p>The solver configuration file determines how the solving process works; it is considered a part of the code.
The file is named <code>cloudBalancingSolverConfig.xml</code>.</p>
</div>
<div class="exampleblock">
<div class="title">Example 5. cloudBalancingSolverConfig.xml</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;solver xmlns="https://www.optaplanner.org/xsd/solver" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="https://www.optaplanner.org/xsd/solver https://www.optaplanner.org/xsd/solver/solver.xsd"&gt;
  &lt;!-- Domain model configuration --&gt;
  &lt;solutionClass&gt;org.optaplanner.examples.cloudbalancing.domain.CloudBalance&lt;/solutionClass&gt;
  &lt;entityClass&gt;org.optaplanner.examples.cloudbalancing.domain.CloudProcess&lt;/entityClass&gt;

  &lt;!-- Score configuration --&gt;
  &lt;scoreDirectorFactory&gt;
    &lt;easyScoreCalculatorClass&gt;org.optaplanner.examples.cloudbalancing.optional.score.CloudBalancingEasyScoreCalculator&lt;/easyScoreCalculatorClass&gt;
    &lt;!--&lt;constraintProviderClass&gt;org.optaplanner.examples.cloudbalancing.score.CloudBalancingConstraintProvider&lt;/constraintProviderClass&gt;--&gt;
  &lt;/scoreDirectorFactory&gt;

  &lt;!-- Optimization algorithms configuration --&gt;
  &lt;termination&gt;
    &lt;secondsSpentLimit&gt;30&lt;/secondsSpentLimit&gt;
  &lt;/termination&gt;
&lt;/solver&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>This solver configuration consists of three parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Domain model configuration</strong>: <em>What can OptaPlanner change?</em></p>
<div class="paragraph">
<p>We need to make OptaPlanner aware of our domain classes, annotated with <code>@PlanningEntity</code> and <code>@PlanningSolution</code> annotations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">  &lt;solutionClass&gt;org.optaplanner.examples.cloudbalancing.domain.CloudBalance&lt;/solutionClass&gt;
  &lt;entityClass&gt;org.optaplanner.examples.cloudbalancing.domain.CloudProcess&lt;/entityClass&gt;</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Score configuration</strong>: <em>How should OptaPlanner optimize the planning variables?
What is our goal?</em></p>
<div class="paragraph">
<p>Since we have hard and soft constraints, we use a <code>HardSoftScore</code>.
But we need to tell OptaPlanner how to calculate the score, depending on our business requirements.
Further down, we will look into two alternatives to calculate the score, such as using an easy Java implementation, or Constraint Streams.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">  &lt;scoreDirectorFactory&gt;
    &lt;easyScoreCalculatorClass&gt;org.optaplanner.examples.cloudbalancing.optional.score.CloudBalancingEasyScoreCalculator&lt;/easyScoreCalculatorClass&gt;
    &lt;!--&lt;constraintProviderClass&gt;org.optaplanner.examples.cloudbalancing.score.CloudBalancingConstraintProvider&lt;/constraintProviderClass&gt;--&gt;
  &lt;/scoreDirectorFactory&gt;</code></pre>
</div>
</div>
</li>
<li>
<p><strong>Optimization algorithms configuration</strong>: <em>How should OptaPlanner optimize it?</em></p>
<div class="paragraph">
<p>In this case, we use the default <a href="../optimization-algorithms/optimization-algorithms.html#optimizationAlgorithms" class="page">optimization algorithms</a> (because no explicit optimization algorithms are configured) for 30 seconds:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">  &lt;termination&gt;
    &lt;secondsSpentLimit&gt;30&lt;/secondsSpentLimit&gt;
  &lt;/termination&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>OptaPlanner should get a good result in seconds (and even in less than 15 milliseconds with
<a href="../repeated-planning/repeated-planning.html#realTimePlanning" class="page">real-time planning</a>), but the more time it has, the better the results.
Advanced use cases might use different <a href="../optimization-algorithms/optimization-algorithms.html#termination" class="page">termination criteria</a> than a hard time limit.</p>
</div>
<div class="paragraph">
<p>The default algorithms already easily surpass human planners and most in-house implementations.
Use the <a href="../benchmarking-and-tweaking/benchmarking-and-tweaking.html#benchmarker" class="page">Benchmarker</a> to <a href="../optimization-algorithms/optimization-algorithms.html#powerTweaking" class="page">power tweak</a> to get even better results.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="cloudBalancingScoreConfiguration"><a class="anchor" href="#cloudBalancingScoreConfiguration"></a>3.5. Score configuration</h3>
<div class="paragraph">
<p>OptaPlanner searches for the solution with the highest <code>Score</code>.
This example uses a <code>HardSoftScore</code>, which means OptaPlanner looks for the solution with no hard constraints broken (fulfill hardware requirements) and as little as possible soft constraints broken (minimize maintenance cost).</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/cloud-balancing/scoreComparisonCloudBalancing.png" alt="scoreComparisonCloudBalancing">
</div>
</div>
<div class="paragraph">
<p>Of course, OptaPlanner needs to be told about these domain-specific score constraints.
There are several ways to implement such a score function:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cloudBalancingEasyJavaScoreConfiguration">Easy Java</a></p>
</li>
<li>
<p><a href="#cloudBalancingConstraintStreamsScoreConfiguration">Constraint Streams</a></p>
</li>
<li>
<p><a href="#cloudBalancingIncrementalJavaScoreConfiguration">Incremental Java</a></p>
</li>
<li>
<p><a href="#cloudBalancingDroolsScoreConfiguration">Drools</a></p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="cloudBalancingEasyJavaScoreConfiguration"><a class="anchor" href="#cloudBalancingEasyJavaScoreConfiguration"></a>3.5.1. Easy Java score configuration</h4>
<div class="paragraph">
<p>One way to define a score function is to implement the interface <code>EasyScoreCalculator</code> in plain Java.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">  &lt;scoreDirectorFactory&gt;
    &lt;easyScoreCalculatorClass&gt;org.optaplanner.examples.cloudbalancing.optional.score.CloudBalancingEasyScoreCalculator&lt;/easyScoreCalculatorClass&gt;
  &lt;/scoreDirectorFactory&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Just implement the <code>calculateScore(Solution)</code> method to return a <code>HardSoftScore</code> instance.</p>
</div>
<div class="exampleblock">
<div class="title">Example 6. CloudBalancingEasyScoreCalculator.java</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public class CloudBalancingEasyScoreCalculator
    implements EasyScoreCalculator&lt;CloudBalance, HardSoftScore&gt; {

    /**
     * A very simple implementation. The double loop can easily be removed by using Maps as shown in
     * {@link CloudBalancingMapBasedEasyScoreCalculator#calculateScore(CloudBalance)}.
     */
    @Override
    public HardSoftScore calculateScore(CloudBalance cloudBalance) {
        int hardScore = 0;
        int softScore = 0;
        for (CloudComputer computer : cloudBalance.getComputerList()) {
            int cpuPowerUsage = 0;
            int memoryUsage = 0;
            int networkBandwidthUsage = 0;
            boolean used = false;

            // Calculate usage
            for (CloudProcess process : cloudBalance.getProcessList()) {
                if (computer.equals(process.getComputer())) {
                    cpuPowerUsage += process.getRequiredCpuPower();
                    memoryUsage += process.getRequiredMemory();
                    networkBandwidthUsage += process.getRequiredNetworkBandwidth();
                    used = true;
                }
            }

            // Hard constraints
            int cpuPowerAvailable = computer.getCpuPower() - cpuPowerUsage;
            if (cpuPowerAvailable &lt; 0) {
                hardScore += cpuPowerAvailable;
            }
            int memoryAvailable = computer.getMemory() - memoryUsage;
            if (memoryAvailable &lt; 0) {
                hardScore += memoryAvailable;
            }
            int networkBandwidthAvailable = computer.getNetworkBandwidth() - networkBandwidthUsage;
            if (networkBandwidthAvailable &lt; 0) {
                hardScore += networkBandwidthAvailable;
            }

            // Soft constraints
            if (used) {
                softScore -= computer.getCost();
            }
        }
        return HardSoftScore.of(hardScore, softScore);
    }

}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>Even if we optimize the code above to use <code>Map</code>s to iterate through the <code>processList</code> only once, <em>it is still slow</em> because it does not do <a href="../score-calculation/score-calculation.html#incrementalScoreCalculation" class="page">incremental score calculation</a>.
To fix that, either use constraint streams, incremental Java score calculation or Drools score calculation.</p>
</div>
</div>
<div class="sect3">
<h4 id="cloudBalancingConstraintStreamsScoreConfiguration"><a class="anchor" href="#cloudBalancingConstraintStreamsScoreConfiguration"></a>3.5.2. Drools score configuration</h4>
<div class="paragraph">
<p>Constraint Streams use incremental calculation.
To use it, implement the interface <code>ConstraintProvider</code> in Java.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">  &lt;scoreDirectorFactory&gt;
    &lt;constraintProviderClass&gt;org.optaplanner.examples.cloudbalancing.score.CloudBalancingConstraintProvider&lt;/constraintProviderClass&gt;
  &lt;/scoreDirectorFactory&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>We want to make sure that all computers have enough CPU, RAM and network bandwidth to support all their processes, so we make these hard constraints.
If those constraints are met, we want to minimize the maintenance cost, so we add that as a soft constraint.</p>
</div>
<div class="exampleblock">
<div class="title">Example 7. CloudBalancingConstraintProvider.java</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public class CloudBalancingConstraintProvider implements ConstraintProvider {

    @Override
    public Constraint[] defineConstraints(ConstraintFactory constraintFactory) {
        return new Constraint[] {
                requiredCpuPowerTotal(constraintFactory),
                requiredMemoryTotal(constraintFactory),
                requiredNetworkBandwidthTotal(constraintFactory),
                computerCost(constraintFactory)
        };
    }

    Constraint requiredCpuPowerTotal(ConstraintFactory constraintFactory) {
        return constraintFactory.forEach(CloudProcess.class)
                .groupBy(CloudProcess::getComputer, sum(CloudProcess::getRequiredCpuPower))
                .filter((computer, requiredCpuPower) -&gt; requiredCpuPower &gt; computer.getCpuPower())
                .penalize("requiredCpuPowerTotal",
                        HardSoftScore.ONE_HARD,
                        (computer, requiredCpuPower) -&gt; requiredCpuPower - computer.getCpuPower());
    }

    Constraint requiredMemoryTotal(ConstraintFactory constraintFactory) {
        return constraintFactory.forEach(CloudProcess.class)
                .groupBy(CloudProcess::getComputer, sum(CloudProcess::getRequiredMemory))
                .filter((computer, requiredMemory) -&gt; requiredMemory &gt; computer.getMemory())
                .penalize("requiredMemoryTotal",
                        HardSoftScore.ONE_HARD,
                        (computer, requiredMemory) -&gt; requiredMemory - computer.getMemory());
    }

    Constraint requiredNetworkBandwidthTotal(ConstraintFactory constraintFactory) {
        return constraintFactory.forEach(CloudProcess.class)
                .groupBy(CloudProcess::getComputer, sum(CloudProcess::getRequiredNetworkBandwidth))
                .filter((computer, requiredNetworkBandwidth) -&gt; requiredNetworkBandwidth &gt; computer.getNetworkBandwidth())
                .penalize("requiredNetworkBandwidthTotal",
                        HardSoftScore.ONE_HARD,
                        (computer, requiredNetworkBandwidth) -&gt; requiredNetworkBandwidth - computer.getNetworkBandwidth());
    }

    Constraint computerCost(ConstraintFactory constraintFactory) {
        return constraintFactory.forEach(CloudComputer.class)
                .ifExists(CloudProcess.class, equal(Function.identity(), CloudProcess::getComputer))
                .penalize("computerCost",
                        HardSoftScore.ONE_SOFT,
                        CloudComputer::getCost);
    }

}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>You may have noticed similarities between <a href="../constraint-streams/constraint-streams.html#constraintStreams" class="page">Constraint Streams</a> and <a href="../drools-score-calculation/drools-score-calculation.html#droolsScoreCalculation" class="page">Drools score calculation</a>.
That is no coincidence, as Constraint Streams are implemented using Drools under the hood.</p>
</div>
</div>
<div class="sect3">
<h4 id="cloudBalancingIncrementalJavaScoreConfiguration"><a class="anchor" href="#cloudBalancingIncrementalJavaScoreConfiguration"></a>3.5.3. Incremental Java score configuration</h4>
<div class="paragraph">
<p>Another way to define a score function is to implement the interface <code>IncrementalScoreCalculator</code> in plain Java.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">  &lt;scoreDirectorFactory&gt;
    &lt;easyScoreCalculatorClass&gt;org.optaplanner.examples.cloudbalancing.optional.score.CloudBalancingIncrementalScoreCalculator&lt;/easyScoreCalculatorClass&gt;
  &lt;/scoreDirectorFactory&gt;</code></pre>
</div>
</div>
<div class="exampleblock">
<div class="title">Example 8. CloudBalancingIncrementalScoreCalculator.java</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-java hljs" data-lang="java">public class CloudBalancingIncrementalScoreCalculator
        implements IncrementalScoreCalculator&lt;CloudBalance, HardSoftScore&gt; {

    private Map&lt;CloudComputer, Integer&gt; cpuPowerUsageMap;
    private Map&lt;CloudComputer, Integer&gt; memoryUsageMap;
    private Map&lt;CloudComputer, Integer&gt; networkBandwidthUsageMap;
    private Map&lt;CloudComputer, Integer&gt; processCountMap;

    private int hardScore;
    private int softScore;

    @Override
    public void resetWorkingSolution(CloudBalance cloudBalance) {
        int computerListSize = cloudBalance.getComputerList().size();
        cpuPowerUsageMap = new HashMap&lt;&gt;(computerListSize);
        memoryUsageMap = new HashMap&lt;&gt;(computerListSize);
        networkBandwidthUsageMap = new HashMap&lt;&gt;(computerListSize);
        processCountMap = new HashMap&lt;&gt;(computerListSize);
        for (CloudComputer computer : cloudBalance.getComputerList()) {
            cpuPowerUsageMap.put(computer, 0);
            memoryUsageMap.put(computer, 0);
            networkBandwidthUsageMap.put(computer, 0);
            processCountMap.put(computer, 0);
        }
        hardScore = 0;
        softScore = 0;
        for (CloudProcess process : cloudBalance.getProcessList()) {
            insert(process);
        }
    }

    @Override
    public void beforeVariableChanged(Object entity, String variableName) {
        retract((CloudProcess) entity);
    }

    @Override
    public void afterVariableChanged(Object entity, String variableName) {
        insert((CloudProcess) entity);
    }

    @Override
    public void beforeEntityRemoved(Object entity) {
        retract((CloudProcess) entity);
    }

    ...

    private void insert(CloudProcess process) {
        CloudComputer computer = process.getComputer();
        if (computer != null) {
            int cpuPower = computer.getCpuPower();
            int oldCpuPowerUsage = cpuPowerUsageMap.get(computer);
            int oldCpuPowerAvailable = cpuPower - oldCpuPowerUsage;
            int newCpuPowerUsage = oldCpuPowerUsage + process.getRequiredCpuPower();
            int newCpuPowerAvailable = cpuPower - newCpuPowerUsage;
            hardScore += Math.min(newCpuPowerAvailable, 0) - Math.min(oldCpuPowerAvailable, 0);
            cpuPowerUsageMap.put(computer, newCpuPowerUsage);

            int memory = computer.getMemory();
            int oldMemoryUsage = memoryUsageMap.get(computer);
            int oldMemoryAvailable = memory - oldMemoryUsage;
            int newMemoryUsage = oldMemoryUsage + process.getRequiredMemory();
            int newMemoryAvailable = memory - newMemoryUsage;
            hardScore += Math.min(newMemoryAvailable, 0) - Math.min(oldMemoryAvailable, 0);
            memoryUsageMap.put(computer, newMemoryUsage);

            int networkBandwidth = computer.getNetworkBandwidth();
            int oldNetworkBandwidthUsage = networkBandwidthUsageMap.get(computer);
            int oldNetworkBandwidthAvailable = networkBandwidth - oldNetworkBandwidthUsage;
            int newNetworkBandwidthUsage = oldNetworkBandwidthUsage + process.getRequiredNetworkBandwidth();
            int newNetworkBandwidthAvailable = networkBandwidth - newNetworkBandwidthUsage;
            hardScore += Math.min(newNetworkBandwidthAvailable, 0) - Math.min(oldNetworkBandwidthAvailable, 0);
            networkBandwidthUsageMap.put(computer, newNetworkBandwidthUsage);

            int oldProcessCount = processCountMap.get(computer);
            if (oldProcessCount == 0) {
                softScore -= computer.getCost();
            }
            int newProcessCount = oldProcessCount + 1;
            processCountMap.put(computer, newProcessCount);
        }
    }

    private void retract(CloudProcess process) {
        CloudComputer computer = process.getComputer();
        if (computer != null) {
            int cpuPower = computer.getCpuPower();
            int oldCpuPowerUsage = cpuPowerUsageMap.get(computer);
            int oldCpuPowerAvailable = cpuPower - oldCpuPowerUsage;
            int newCpuPowerUsage = oldCpuPowerUsage - process.getRequiredCpuPower();
            int newCpuPowerAvailable = cpuPower - newCpuPowerUsage;
            hardScore += Math.min(newCpuPowerAvailable, 0) - Math.min(oldCpuPowerAvailable, 0);
            cpuPowerUsageMap.put(computer, newCpuPowerUsage);

            int memory = computer.getMemory();
            int oldMemoryUsage = memoryUsageMap.get(computer);
            int oldMemoryAvailable = memory - oldMemoryUsage;
            int newMemoryUsage = oldMemoryUsage - process.getRequiredMemory();
            int newMemoryAvailable = memory - newMemoryUsage;
            hardScore += Math.min(newMemoryAvailable, 0) - Math.min(oldMemoryAvailable, 0);
            memoryUsageMap.put(computer, newMemoryUsage);

            int networkBandwidth = computer.getNetworkBandwidth();
            int oldNetworkBandwidthUsage = networkBandwidthUsageMap.get(computer);
            int oldNetworkBandwidthAvailable = networkBandwidth - oldNetworkBandwidthUsage;
            int newNetworkBandwidthUsage = oldNetworkBandwidthUsage - process.getRequiredNetworkBandwidth();
            int newNetworkBandwidthAvailable = networkBandwidth - newNetworkBandwidthUsage;
            hardScore += Math.min(newNetworkBandwidthAvailable, 0) - Math.min(oldNetworkBandwidthAvailable, 0);
            networkBandwidthUsageMap.put(computer, newNetworkBandwidthUsage);

            int oldProcessCount = processCountMap.get(computer);
            int newProcessCount = oldProcessCount - 1;
            if (newProcessCount == 0) {
                softScore += computer.getCost();
            }
            processCountMap.put(computer, newProcessCount);
        }
    }

    @Override
    public HardSoftScore calculateScore() {
        return HardSoftScore.of(hardScore, softScore);
    }
}</code></pre>
</div>
</div>
</div>
</div>
<div class="paragraph">
<p>This score calculation is the fastest we can possibly make it.
It reacts to every planning variable change, making the smallest possible adjustment to the score.</p>
</div>
</div>
<div class="sect3">
<h4 id="cloudBalancingDroolsScoreConfiguration"><a class="anchor" href="#cloudBalancingDroolsScoreConfiguration"></a>3.5.4. Drools score configuration</h4>
<div class="paragraph">
<p>Drools score calculation uses incremental calculation.
Each score constraint is written as one or more score rules.</p>
</div>
<div class="paragraph">
<p><strong>Prerequisite</strong>
To use the Drools rule engine as a score function, simply add a <code>scoreDrl</code> resource in the classpath:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-xml hljs" data-lang="xml">  &lt;scoreDirectorFactory&gt;
    &lt;scoreDrl&gt;org/optaplanner/examples/cloudbalancing/optional/score/cloudBalancingConstraints.drl&lt;/scoreDrl&gt;
  &lt;/scoreDirectorFactory&gt;</code></pre>
</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>We want to make sure that all computers have enough CPU, RAM and network bandwidth to support all their processes, so we make these hard constraints:</p>
<div class="exampleblock">
<div class="title">Example 9. cloudBalancingConstraints.drl - Hard Constraints</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>...

import org.optaplanner.examples.cloudbalancing.domain.CloudBalance;
import org.optaplanner.examples.cloudbalancing.domain.CloudComputer;
import org.optaplanner.examples.cloudbalancing.domain.CloudProcess;

global HardSoftScoreHolder scoreHolder;

// ############################################################################
// Hard constraints
// ############################################################################

rule "requiredCpuPowerTotal"
    when
        $computer : CloudComputer($cpuPower : cpuPower)
        accumulate(
            CloudProcess(
                computer == $computer,
                $requiredCpuPower : requiredCpuPower);
            $requiredCpuPowerTotal : sum($requiredCpuPower);
            $requiredCpuPowerTotal &gt; $cpuPower
        )
    then
        scoreHolder.addHardConstraintMatch(kcontext, $cpuPower - $requiredCpuPowerTotal);
end

rule "requiredMemoryTotal"
    ...
end

rule "requiredNetworkBandwidthTotal"
    ...
end</code></pre>
</div>
</div>
</div>
</div>
</li>
<li>
<p>If those constraints are met, we want to minimize the maintenance cost, so we add that as a soft constraint:</p>
<div class="exampleblock">
<div class="title">Example 10. cloudBalancingConstraints.drl - Soft Constraints</div>
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>// ############################################################################
// Soft constraints
// ############################################################################

rule "computerCost"
    when
        $computer : CloudComputer($cost : cost)
        exists CloudProcess(computer == $computer)
    then
        scoreHolder.addSoftConstraintMatch(kcontext, - $cost);
end</code></pre>
</div>
</div>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="cloudBalancingBeyondThisTutorial"><a class="anchor" href="#cloudBalancingBeyondThisTutorial"></a>3.6. Beyond this tutorial</h3>
<div class="paragraph">
<p>Now that this simple example works, you can try going further.
For example, you can enrich the domain model and add extra constraints such as these:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each <code>Process</code> belongs to a <code>Service</code>. A computer might crash, so processes running the same service must be assigned to different computers.</p>
</li>
<li>
<p>Each <code>Computer</code> is located in a <code>Building</code>. A building might burn down, so processes of the same services should (or must) be assigned to computers in different buildings.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tsp"><a class="anchor" href="#tsp"></a>4. Traveling salesman (TSP - traveling salesman problem)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="tspProblemDescription"><a class="anchor" href="#tspProblemDescription"></a>4.1. Problem description</h3>
<div class="paragraph">
<p>Given a list of cities, find the shortest tour for a salesman that visits each city exactly once.</p>
</div>
<div class="paragraph">
<p>The problem is defined by <a href="https://en.wikipedia.org/wiki/Travelling_salesman_problem">Wikipedia</a>.
It is <a href="http://www.math.uwaterloo.ca/tsp/">one of the most intensively studied problems</a> in computational mathematics.
Yet, in the real world, it is often only part of a planning problem, along with other constraints, such as employee shift rostering constraints.</p>
</div>
</div>
<div class="sect2">
<h3 id="tspProblemSize"><a class="anchor" href="#tspProblemSize"></a>4.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>dj38     has  38 cities with a search space of   10^43.
europe40 has  40 cities with a search space of   10^46.
st70     has  70 cities with a search space of   10^98.
pcb442   has 442 cities with a search space of  10^976.
lu980    has 980 cities with a search space of 10^2504.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tspProblemDifficulty"><a class="anchor" href="#tspProblemDifficulty"></a>4.3. Problem difficulty</h3>
<div class="paragraph">
<p>Despite TSP&#8217;s simple definition, the problem is surprisingly hard to solve.
Because it is an NP-hard problem (like most planning problems), the optimal solution for a specific problem dataset can change a lot when that problem dataset is slightly altered:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/travelling-salesman/tspOptimalSolutionVolatility.png" alt="tspOptimalSolutionVolatility">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tennis"><a class="anchor" href="#tennis"></a>5. Tennis club scheduling</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="tennisProblemDescription"><a class="anchor" href="#tennisProblemDescription"></a>5.1. Problem description</h3>
<div class="paragraph">
<p>Every week the tennis club has four teams playing round robin against each other.
Assign those four spots to the teams fairly.</p>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Conflict: A team can only play once per day.</p>
</li>
<li>
<p>Unavailability: Some teams are unavailable on some dates.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Medium constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fair assignment: All teams should play an (almost) equal number of times.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Evenly confrontation: Each team should play against every other team an equal number of times.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="tennisProblemSize"><a class="anchor" href="#tennisProblemSize"></a>5.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>munich-7teams has 7 teams, 18 days, 12 unavailabilityPenalties and 72 teamAssignments with a search space of 10^60.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tennisDomainModel"><a class="anchor" href="#tennisDomainModel"></a>5.3. Domain model</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/tennis-scheduling/tennisClassDiagram.png" alt="tennisClassDiagram">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="meetingScheduling"><a class="anchor" href="#meetingScheduling"></a>6. Meeting scheduling</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="meetingSchedulingProblemDescription"><a class="anchor" href="#meetingSchedulingProblemDescription"></a>6.1. Problem description</h3>
<div class="paragraph">
<p>Assign each meeting to a starting time and a room.
Meetings have different durations.</p>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Room conflict: two meetings must not use the same room at the same time.</p>
</li>
<li>
<p>Required attendance: A person cannot have two required meetings at the same time.</p>
</li>
<li>
<p>Required room capacity: A meeting must not be in a room that doesn&#8217;t fit all of the meeting&#8217;s attendees.</p>
</li>
<li>
<p>Start and end on same day: A meeting shouldn&#8217;t be scheduled over multiple days.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Medium constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Preferred attendance: A person cannot have two preferred meetings at the same time, nor a preferred and a required meeting at the same time.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Sooner rather than later: Schedule all meetings as soon as possible.</p>
</li>
<li>
<p>A break between meetings: Any two meetings should have at least one time grain break between them.</p>
</li>
<li>
<p>Overlapping meetings: To minimize the number of meetings in parallel so people don&#8217;t have to choose one meeting over the other.</p>
</li>
<li>
<p>Assign larger rooms first: If a larger room is available any meeting should be assigned to that room in order to accommodate as many people as possible
even if they haven&#8217;t signed up to that meeting.</p>
</li>
<li>
<p>Room stability: If a person has two consecutive meetings with two or less time grains break between them they better be in the same room.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="meetingSchedulingProblemSize"><a class="anchor" href="#meetingSchedulingProblemSize"></a>6.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>50meetings-160timegrains-5rooms  has  50 meetings, 160 timeGrains and 5 rooms with a search space of 10^145.
100meetings-320timegrains-5rooms has 100 meetings, 320 timeGrains and 5 rooms with a search space of 10^320.
200meetings-640timegrains-5rooms has 200 meetings, 640 timeGrains and 5 rooms with a search space of 10^701.
400meetings-1280timegrains-5rooms has 400 meetings, 1280 timeGrains and 5 rooms with a search space of 10^1522.
800meetings-2560timegrains-5rooms has 800 meetings, 2560 timeGrains and 5 rooms with a search space of 10^3285.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="curriculumCourse"><a class="anchor" href="#curriculumCourse"></a>7. Course timetabling (ITC 2007 Track 3 - Curriculum Course Scheduling)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="curriculumCourseProblemDescription"><a class="anchor" href="#curriculumCourseProblemDescription"></a>7.1. Problem description</h3>
<div class="paragraph">
<p>Schedule each lecture into a timeslot and into a room.</p>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Teacher conflict: A teacher must not have two lectures in the same period.</p>
</li>
<li>
<p>Curriculum conflict: A curriculum must not have two lectures in the same period.</p>
</li>
<li>
<p>Room occupancy: two lectures must not be in the same room in the same period.</p>
</li>
<li>
<p>Unavailable period (specified per dataset): A specific lecture must not be assigned to a specific period.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Room capacity: A room&#8217;s capacity should not be less than the number of students in its lecture.</p>
</li>
<li>
<p>Minimum working days: Lectures of the same course should be spread out into a minimum number of days.</p>
</li>
<li>
<p>Curriculum compactness: Lectures belonging to the same curriculum should be adjacent to each other (so in consecutive periods).</p>
</li>
<li>
<p>Room stability: Lectures of the same course should be assigned to the same room.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The problem is defined by <a href="http://www.cs.qub.ac.uk/itc2007/curriculmcourse/course_curriculm_index.htm">the International Timetabling Competition 2007 track 3</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="curriculumCourseProblemSize"><a class="anchor" href="#curriculumCourseProblemSize"></a>7.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>comp01 has 24 teachers,  14 curricula,  30 courses, 160 lectures, 30 periods,  6 rooms and   53 unavailable period constraints with a search space of  10^360.
comp02 has 71 teachers,  70 curricula,  82 courses, 283 lectures, 25 periods, 16 rooms and  513 unavailable period constraints with a search space of  10^736.
comp03 has 61 teachers,  68 curricula,  72 courses, 251 lectures, 25 periods, 16 rooms and  382 unavailable period constraints with a search space of  10^653.
comp04 has 70 teachers,  57 curricula,  79 courses, 286 lectures, 25 periods, 18 rooms and  396 unavailable period constraints with a search space of  10^758.
comp05 has 47 teachers, 139 curricula,  54 courses, 152 lectures, 36 periods,  9 rooms and  771 unavailable period constraints with a search space of  10^381.
comp06 has 87 teachers,  70 curricula, 108 courses, 361 lectures, 25 periods, 18 rooms and  632 unavailable period constraints with a search space of  10^957.
comp07 has 99 teachers,  77 curricula, 131 courses, 434 lectures, 25 periods, 20 rooms and  667 unavailable period constraints with a search space of 10^1171.
comp08 has 76 teachers,  61 curricula,  86 courses, 324 lectures, 25 periods, 18 rooms and  478 unavailable period constraints with a search space of  10^859.
comp09 has 68 teachers,  75 curricula,  76 courses, 279 lectures, 25 periods, 18 rooms and  405 unavailable period constraints with a search space of  10^740.
comp10 has 88 teachers,  67 curricula, 115 courses, 370 lectures, 25 periods, 18 rooms and  694 unavailable period constraints with a search space of  10^981.
comp11 has 24 teachers,  13 curricula,  30 courses, 162 lectures, 45 periods,  5 rooms and   94 unavailable period constraints with a search space of  10^381.
comp12 has 74 teachers, 150 curricula,  88 courses, 218 lectures, 36 periods, 11 rooms and 1368 unavailable period constraints with a search space of  10^566.
comp13 has 77 teachers,  66 curricula,  82 courses, 308 lectures, 25 periods, 19 rooms and  468 unavailable period constraints with a search space of  10^824.
comp14 has 68 teachers,  60 curricula,  85 courses, 275 lectures, 25 periods, 17 rooms and  486 unavailable period constraints with a search space of  10^722.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="curriculumCourseDomainModel"><a class="anchor" href="#curriculumCourseDomainModel"></a>7.3. Domain model</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/course-timetabling/curriculumCourseClassDiagram.png" alt="curriculumCourseClassDiagram">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="machineReassignment"><a class="anchor" href="#machineReassignment"></a>8. Machine reassignment (Google ROADEF 2012)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="machineReassignmentProblemDescription"><a class="anchor" href="#machineReassignmentProblemDescription"></a>8.1. Problem description</h3>
<div class="paragraph">
<p>Assign each process to a machine.
All processes already have an original (unoptimized) assignment.
Each process requires an amount of each resource (such as CPU, RAM, &#8230;&#8203;). This is a more complex version of the Cloud Balancing example.</p>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maximum capacity: The maximum capacity for each resource for each machine must not be exceeded.</p>
</li>
<li>
<p>Conflict: Processes of the same service must run on distinct machines.</p>
</li>
<li>
<p>Spread: Processes of the same service must be spread out across locations.</p>
</li>
<li>
<p>Dependency: The processes of a service depending on another service must run in the neighborhood of a process of the other service.</p>
</li>
<li>
<p>Transient usage: Some resources are transient and count towards the maximum capacity of both the original machine as the newly assigned machine.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Load: The safety capacity for each resource for each machine should not be exceeded.</p>
</li>
<li>
<p>Balance: Leave room for future assignments by balancing the available resources on each machine.</p>
</li>
<li>
<p>Process move cost: A process has a move cost.</p>
</li>
<li>
<p>Service move cost: A service has a move cost.</p>
</li>
<li>
<p>Machine move cost: Moving a process from machine A to machine B has another A-B specific move cost.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The problem is defined by <a href="http://challenge.roadef.org/2012/en/">the Google ROADEF/EURO Challenge 2012</a>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/machine-reassignment/cloudOptimizationIsLikeTetris.png" alt="cloudOptimizationIsLikeTetris">
</div>
</div>
</div>
<div class="sect2">
<h3 id="machineReassignmentValueProposition"><a class="anchor" href="#machineReassignmentValueProposition"></a>8.2. Value proposition</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/cloud-balancing/cloudOptimizationValueProposition.png" alt="cloudOptimizationValueProposition">
</div>
</div>
</div>
<div class="sect2">
<h3 id="machineReassignmentProblemSize"><a class="anchor" href="#machineReassignmentProblemSize"></a>8.3. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>model_a1_1 has  2 resources,  1 neighborhoods,   4 locations,    4 machines,    79 services,   100 processes and 1 balancePenalties with a search space of     10^60.
model_a1_2 has  4 resources,  2 neighborhoods,   4 locations,  100 machines,   980 services,  1000 processes and 0 balancePenalties with a search space of   10^2000.
model_a1_3 has  3 resources,  5 neighborhoods,  25 locations,  100 machines,   216 services,  1000 processes and 0 balancePenalties with a search space of   10^2000.
model_a1_4 has  3 resources, 50 neighborhoods,  50 locations,   50 machines,   142 services,  1000 processes and 1 balancePenalties with a search space of   10^1698.
model_a1_5 has  4 resources,  2 neighborhoods,   4 locations,   12 machines,   981 services,  1000 processes and 1 balancePenalties with a search space of   10^1079.
model_a2_1 has  3 resources,  1 neighborhoods,   1 locations,  100 machines,  1000 services,  1000 processes and 0 balancePenalties with a search space of   10^2000.
model_a2_2 has 12 resources,  5 neighborhoods,  25 locations,  100 machines,   170 services,  1000 processes and 0 balancePenalties with a search space of   10^2000.
model_a2_3 has 12 resources,  5 neighborhoods,  25 locations,  100 machines,   129 services,  1000 processes and 0 balancePenalties with a search space of   10^2000.
model_a2_4 has 12 resources,  5 neighborhoods,  25 locations,   50 machines,   180 services,  1000 processes and 1 balancePenalties with a search space of   10^1698.
model_a2_5 has 12 resources,  5 neighborhoods,  25 locations,   50 machines,   153 services,  1000 processes and 0 balancePenalties with a search space of   10^1698.
model_b_1  has 12 resources,  5 neighborhoods,  10 locations,  100 machines,  2512 services,  5000 processes and 0 balancePenalties with a search space of  10^10000.
model_b_2  has 12 resources,  5 neighborhoods,  10 locations,  100 machines,  2462 services,  5000 processes and 1 balancePenalties with a search space of  10^10000.
model_b_3  has  6 resources,  5 neighborhoods,  10 locations,  100 machines, 15025 services, 20000 processes and 0 balancePenalties with a search space of  10^40000.
model_b_4  has  6 resources,  5 neighborhoods,  50 locations,  500 machines,  1732 services, 20000 processes and 1 balancePenalties with a search space of  10^53979.
model_b_5  has  6 resources,  5 neighborhoods,  10 locations,  100 machines, 35082 services, 40000 processes and 0 balancePenalties with a search space of  10^80000.
model_b_6  has  6 resources,  5 neighborhoods,  50 locations,  200 machines, 14680 services, 40000 processes and 1 balancePenalties with a search space of  10^92041.
model_b_7  has  6 resources,  5 neighborhoods,  50 locations, 4000 machines, 15050 services, 40000 processes and 1 balancePenalties with a search space of 10^144082.
model_b_8  has  3 resources,  5 neighborhoods,  10 locations,  100 machines, 45030 services, 50000 processes and 0 balancePenalties with a search space of 10^100000.
model_b_9  has  3 resources,  5 neighborhoods, 100 locations, 1000 machines,  4609 services, 50000 processes and 1 balancePenalties with a search space of 10^150000.
model_b_10 has  3 resources,  5 neighborhoods, 100 locations, 5000 machines,  4896 services, 50000 processes and 1 balancePenalties with a search space of 10^184948.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="machineReassignmentDomainModel"><a class="anchor" href="#machineReassignmentDomainModel"></a>8.4. Domain model</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/machine-reassignment/machineReassignmentClassDiagram.png" alt="machineReassignmentClassDiagram">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="vehicleRouting"><a class="anchor" href="#vehicleRouting"></a>9. Vehicle routing</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="vehicleRoutingProblemDescription"><a class="anchor" href="#vehicleRoutingProblemDescription"></a>9.1. Problem description</h3>
<div class="paragraph">
<p>Using a fleet of vehicles, pick up the objects of each customer and bring them to the depot.
Each vehicle can service multiple customers, but it has a limited capacity.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/vehicle-routing/vehicleRoutingUseCase.png" alt="vehicleRoutingUseCase">
</div>
</div>
<div class="paragraph">
<p>Besides the basic case (CVRP), there is also a variant with time windows (CVRPTW).</p>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Vehicle capacity: a vehicle cannot carry more items then its capacity.</p>
</li>
<li>
<p>Time windows (only in CVRPTW):</p>
<div class="ulist">
<ul>
<li>
<p>Travel time: Traveling from one location to another takes time.</p>
</li>
<li>
<p>Customer service duration: a vehicle must stay at the customer for the length of the service duration.</p>
</li>
<li>
<p>Customer ready time: a vehicle may arrive before the customer&#8217;s ready time, but it must wait until the ready time before servicing.</p>
</li>
<li>
<p>Customer due time: a vehicle must arrive on time, before the customer&#8217;s due time.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Total distance: minimize the total distance driven (fuel consumption) of all vehicles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The capacitated vehicle routing problem (CVRP) and its timewindowed variant (CVRPTW) are defined by <a href="http://neo.lcc.uma.es/vrp/">the VRP web</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="vehicleRoutingValueProposition"><a class="anchor" href="#vehicleRoutingValueProposition"></a>9.2. Value proposition</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/vehicle-routing/vehicleRoutingValueProposition.png" alt="vehicleRoutingValueProposition">
</div>
</div>
</div>
<div class="sect2">
<h3 id="vehicleRoutingProblemSize"><a class="anchor" href="#vehicleRoutingProblemSize"></a>9.3. Problem size</h3>
<div class="paragraph">
<p>CVRP instances (without time windows):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>belgium-n50-k10             has  1 depots, 10 vehicles and   49 customers with a search space of   10^74.
belgium-n100-k10            has  1 depots, 10 vehicles and   99 customers with a search space of  10^170.
belgium-n500-k20            has  1 depots, 20 vehicles and  499 customers with a search space of 10^1168.
belgium-n1000-k20           has  1 depots, 20 vehicles and  999 customers with a search space of 10^2607.
belgium-n2750-k55           has  1 depots, 55 vehicles and 2749 customers with a search space of 10^8380.
belgium-road-km-n50-k10     has  1 depots, 10 vehicles and   49 customers with a search space of   10^74.
belgium-road-km-n100-k10    has  1 depots, 10 vehicles and   99 customers with a search space of  10^170.
belgium-road-km-n500-k20    has  1 depots, 20 vehicles and  499 customers with a search space of 10^1168.
belgium-road-km-n1000-k20   has  1 depots, 20 vehicles and  999 customers with a search space of 10^2607.
belgium-road-km-n2750-k55   has  1 depots, 55 vehicles and 2749 customers with a search space of 10^8380.
belgium-road-time-n50-k10   has  1 depots, 10 vehicles and   49 customers with a search space of   10^74.
belgium-road-time-n100-k10  has  1 depots, 10 vehicles and   99 customers with a search space of  10^170.
belgium-road-time-n500-k20  has  1 depots, 20 vehicles and  499 customers with a search space of 10^1168.
belgium-road-time-n1000-k20 has  1 depots, 20 vehicles and  999 customers with a search space of 10^2607.
belgium-road-time-n2750-k55 has  1 depots, 55 vehicles and 2749 customers with a search space of 10^8380.
belgium-d2-n50-k10          has  2 depots, 10 vehicles and   48 customers with a search space of   10^74.
belgium-d3-n100-k10         has  3 depots, 10 vehicles and   97 customers with a search space of  10^170.
belgium-d5-n500-k20         has  5 depots, 20 vehicles and  495 customers with a search space of 10^1168.
belgium-d8-n1000-k20        has  8 depots, 20 vehicles and  992 customers with a search space of 10^2607.
belgium-d10-n2750-k55       has 10 depots, 55 vehicles and 2740 customers with a search space of 10^8380.

A-n32-k5  has 1 depots,  5 vehicles and  31 customers with a search space of  10^40.
A-n33-k5  has 1 depots,  5 vehicles and  32 customers with a search space of  10^41.
A-n33-k6  has 1 depots,  6 vehicles and  32 customers with a search space of  10^42.
A-n34-k5  has 1 depots,  5 vehicles and  33 customers with a search space of  10^43.
A-n36-k5  has 1 depots,  5 vehicles and  35 customers with a search space of  10^46.
A-n37-k5  has 1 depots,  5 vehicles and  36 customers with a search space of  10^48.
A-n37-k6  has 1 depots,  6 vehicles and  36 customers with a search space of  10^49.
A-n38-k5  has 1 depots,  5 vehicles and  37 customers with a search space of  10^49.
A-n39-k5  has 1 depots,  5 vehicles and  38 customers with a search space of  10^51.
A-n39-k6  has 1 depots,  6 vehicles and  38 customers with a search space of  10^52.
A-n44-k7  has 1 depots,  7 vehicles and  43 customers with a search space of  10^61.
A-n45-k6  has 1 depots,  6 vehicles and  44 customers with a search space of  10^62.
A-n45-k7  has 1 depots,  7 vehicles and  44 customers with a search space of  10^63.
A-n46-k7  has 1 depots,  7 vehicles and  45 customers with a search space of  10^65.
A-n48-k7  has 1 depots,  7 vehicles and  47 customers with a search space of  10^68.
A-n53-k7  has 1 depots,  7 vehicles and  52 customers with a search space of  10^77.
A-n54-k7  has 1 depots,  7 vehicles and  53 customers with a search space of  10^79.
A-n55-k9  has 1 depots,  9 vehicles and  54 customers with a search space of  10^82.
A-n60-k9  has 1 depots,  9 vehicles and  59 customers with a search space of  10^91.
A-n61-k9  has 1 depots,  9 vehicles and  60 customers with a search space of  10^93.
A-n62-k8  has 1 depots,  8 vehicles and  61 customers with a search space of  10^94.
A-n63-k9  has 1 depots,  9 vehicles and  62 customers with a search space of  10^97.
A-n63-k10 has 1 depots, 10 vehicles and  62 customers with a search space of  10^98.
A-n64-k9  has 1 depots,  9 vehicles and  63 customers with a search space of  10^99.
A-n65-k9  has 1 depots,  9 vehicles and  64 customers with a search space of 10^101.
A-n69-k9  has 1 depots,  9 vehicles and  68 customers with a search space of 10^108.
A-n80-k10 has 1 depots, 10 vehicles and  79 customers with a search space of 10^130.
F-n45-k4  has 1 depots,  4 vehicles and  44 customers with a search space of  10^60.
F-n72-k4  has 1 depots,  4 vehicles and  71 customers with a search space of 10^108.
F-n135-k7 has 1 depots,  7 vehicles and 134 customers with a search space of 10^240.</code></pre>
</div>
</div>
<div class="paragraph">
<p>CVRPTW instances (with time windows):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>belgium-tw-d2-n50-k10    has  2 depots, 10 vehicles and   48 customers with a search space of   10^74.
belgium-tw-d3-n100-k10   has  3 depots, 10 vehicles and   97 customers with a search space of  10^170.
belgium-tw-d5-n500-k20   has  5 depots, 20 vehicles and  495 customers with a search space of 10^1168.
belgium-tw-d8-n1000-k20  has  8 depots, 20 vehicles and  992 customers with a search space of 10^2607.
belgium-tw-d10-n2750-k55 has 10 depots, 55 vehicles and 2740 customers with a search space of 10^8380.
belgium-tw-n50-k10       has  1 depots, 10 vehicles and   49 customers with a search space of   10^74.
belgium-tw-n100-k10      has  1 depots, 10 vehicles and   99 customers with a search space of  10^170.
belgium-tw-n500-k20      has  1 depots, 20 vehicles and  499 customers with a search space of 10^1168.
belgium-tw-n1000-k20     has  1 depots, 20 vehicles and  999 customers with a search space of 10^2607.
belgium-tw-n2750-k55     has  1 depots, 55 vehicles and 2749 customers with a search space of 10^8380.

Solomon_025_C101       has 1 depots,  25 vehicles and   25 customers with a search space of   10^40.
Solomon_025_C201       has 1 depots,  25 vehicles and   25 customers with a search space of   10^40.
Solomon_025_R101       has 1 depots,  25 vehicles and   25 customers with a search space of   10^40.
Solomon_025_R201       has 1 depots,  25 vehicles and   25 customers with a search space of   10^40.
Solomon_025_RC101      has 1 depots,  25 vehicles and   25 customers with a search space of   10^40.
Solomon_025_RC201      has 1 depots,  25 vehicles and   25 customers with a search space of   10^40.
Solomon_100_C101       has 1 depots,  25 vehicles and  100 customers with a search space of  10^185.
Solomon_100_C201       has 1 depots,  25 vehicles and  100 customers with a search space of  10^185.
Solomon_100_R101       has 1 depots,  25 vehicles and  100 customers with a search space of  10^185.
Solomon_100_R201       has 1 depots,  25 vehicles and  100 customers with a search space of  10^185.
Solomon_100_RC101      has 1 depots,  25 vehicles and  100 customers with a search space of  10^185.
Solomon_100_RC201      has 1 depots,  25 vehicles and  100 customers with a search space of  10^185.
Homberger_0200_C1_2_1  has 1 depots,  50 vehicles and  200 customers with a search space of  10^429.
Homberger_0200_C2_2_1  has 1 depots,  50 vehicles and  200 customers with a search space of  10^429.
Homberger_0200_R1_2_1  has 1 depots,  50 vehicles and  200 customers with a search space of  10^429.
Homberger_0200_R2_2_1  has 1 depots,  50 vehicles and  200 customers with a search space of  10^429.
Homberger_0200_RC1_2_1 has 1 depots,  50 vehicles and  200 customers with a search space of  10^429.
Homberger_0200_RC2_2_1 has 1 depots,  50 vehicles and  200 customers with a search space of  10^429.
Homberger_0400_C1_4_1  has 1 depots, 100 vehicles and  400 customers with a search space of  10^978.
Homberger_0400_C2_4_1  has 1 depots, 100 vehicles and  400 customers with a search space of  10^978.
Homberger_0400_R1_4_1  has 1 depots, 100 vehicles and  400 customers with a search space of  10^978.
Homberger_0400_R2_4_1  has 1 depots, 100 vehicles and  400 customers with a search space of  10^978.
Homberger_0400_RC1_4_1 has 1 depots, 100 vehicles and  400 customers with a search space of  10^978.
Homberger_0400_RC2_4_1 has 1 depots, 100 vehicles and  400 customers with a search space of  10^978.
Homberger_0600_C1_6_1  has 1 depots, 150 vehicles and  600 customers with a search space of 10^1571.
Homberger_0600_C2_6_1  has 1 depots, 150 vehicles and  600 customers with a search space of 10^1571.
Homberger_0600_R1_6_1  has 1 depots, 150 vehicles and  600 customers with a search space of 10^1571.
Homberger_0600_R2_6_1  has 1 depots, 150 vehicles and  600 customers with a search space of 10^1571.
Homberger_0600_RC1_6_1 has 1 depots, 150 vehicles and  600 customers with a search space of 10^1571.
Homberger_0600_RC2_6_1 has 1 depots, 150 vehicles and  600 customers with a search space of 10^1571.
Homberger_0800_C1_8_1  has 1 depots, 200 vehicles and  800 customers with a search space of 10^2195.
Homberger_0800_C2_8_1  has 1 depots, 200 vehicles and  800 customers with a search space of 10^2195.
Homberger_0800_R1_8_1  has 1 depots, 200 vehicles and  800 customers with a search space of 10^2195.
Homberger_0800_R2_8_1  has 1 depots, 200 vehicles and  800 customers with a search space of 10^2195.
Homberger_0800_RC1_8_1 has 1 depots, 200 vehicles and  800 customers with a search space of 10^2195.
Homberger_0800_RC2_8_1 has 1 depots, 200 vehicles and  800 customers with a search space of 10^2195.
Homberger_1000_C110_1  has 1 depots, 250 vehicles and 1000 customers with a search space of 10^2840.
Homberger_1000_C210_1  has 1 depots, 250 vehicles and 1000 customers with a search space of 10^2840.
Homberger_1000_R110_1  has 1 depots, 250 vehicles and 1000 customers with a search space of 10^2840.
Homberger_1000_R210_1  has 1 depots, 250 vehicles and 1000 customers with a search space of 10^2840.
Homberger_1000_RC110_1 has 1 depots, 250 vehicles and 1000 customers with a search space of 10^2840.
Homberger_1000_RC210_1 has 1 depots, 250 vehicles and 1000 customers with a search space of 10^2840.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="vehicleRoutingDomainModel"><a class="anchor" href="#vehicleRoutingDomainModel"></a>9.4. Domain model</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/vehicle-routing/vehicleRoutingClassDiagram.png" alt="vehicleRoutingClassDiagram">
</div>
</div>
<div class="paragraph">
<p>The vehicle routing with timewindows domain model makes heavily use of <a href="../shadow-variable/shadow-variable.html#shadowVariable" class="page">shadow variables</a>.
This allows it to express its constraints more naturally, because properties such as <code>arrivalTime</code> and <code>departureTime</code>, are directly available on the domain model.</p>
</div>
<div class="sect3">
<h4 id="roadDistancesInsteadOfAirDistances"><a class="anchor" href="#roadDistancesInsteadOfAirDistances"></a>9.4.1. Road distances instead of air distances</h4>
<div class="paragraph">
<p>In the real world, vehicles cannot follow a straight line from location to location: they have to use roads and highways.
From a business point of view, this matters a lot:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/vehicle-routing/vehicleRoutingDistanceType.png" alt="vehicleRoutingDistanceType">
</div>
</div>
<div class="paragraph">
<p>For the optimization algorithm, this does not matter much, as long as the distance between two points can be looked up (and are preferably precalculated). The road cost does not even need to be a distance, it can also be travel time, fuel cost, or a weighted function of those.
There are several technologies available to precalculate road costs, such as <a href="https://graphhopper.com/">GraphHopper</a> (embeddable, offline Java engine), <a href="http://open.mapquestapi.com/directions/#matrix">Open MapQuest</a> (web service) and <a href="https://developers.google.com/maps/documentation/webservices/client-library">Google Maps Client API</a> (web service).</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/vehicle-routing/integrationWithRealMaps.png" alt="integrationWithRealMaps">
</div>
</div>
<div class="paragraph">
<p>There are also several technologies to render it, such as <a href="http://leafletjs.com">Leaflet</a> and <a href="https://developers.google.com/maps/">Google Maps for developers</a>. The <a href="https://github.com/kiegroup/optaweb-vehicle-routing">OptaWeb Vehicle Routing project</a> has an example which demonstrates such rendering:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/vehicle-routing/vehicleRoutingLeafletAndGoogleMaps.png" alt="vehicleRoutingLeafletAndGoogleMaps">
</div>
</div>
<div class="paragraph">
<p>It is even possible to render the actual road routes with GraphHopper or Google Map Directions, but because of route overlaps on highways, it can become harder to see the standstill order:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/vehicle-routing/vehicleRoutingGoogleMapsDirections.png" alt="vehicleRoutingGoogleMapsDirections">
</div>
</div>
<div class="paragraph">
<p>Take special care that the road costs between two points use the same optimization criteria as the one used in OptaPlanner.
For example, GraphHopper etc will by default return the fastest route, not the shortest route.
Don&#8217;t use the km (or miles) distances of the fastest GPS routes to optimize the shortest trip in OptaPlanner: this leads to a suboptimal solution as shown below:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/vehicle-routing/roadDistanceTriangleInequality.png" alt="roadDistanceTriangleInequality">
</div>
</div>
<div class="paragraph">
<p>Contrary to popular belief, most users do not want the shortest route: they want the fastest route instead.
They prefer highways over normal roads.
They prefer normal roads over dirt roads.
In the real world, the fastest and shortest route are rarely the same.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="projectJobScheduling"><a class="anchor" href="#projectJobScheduling"></a>10. Project job scheduling</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="projectJobSchedulingProblemDescription"><a class="anchor" href="#projectJobSchedulingProblemDescription"></a>10.1. Problem description</h3>
<div class="paragraph">
<p>Schedule all jobs in time and execution mode to minimize project delays.
Each job is part of a project.
A job can be executed in different ways: each way is an execution mode that implies a different duration but also different resource usages.
This is a form of flexible <em>job shop scheduling</em>.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/project-job-scheduling/projectJobSchedulingUseCase.png" alt="projectJobSchedulingUseCase">
</div>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Job precedence: a job can only start when all its predecessor jobs are finished.</p>
</li>
<li>
<p>Resource capacity: do not use more resources than available.</p>
<div class="ulist">
<ul>
<li>
<p>Resources are local (shared between jobs of the same project) or global (shared between all jobs)</p>
</li>
<li>
<p>Resources are renewable (capacity available per day) or nonrenewable (capacity available for all days)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Medium constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Total project delay: minimize the duration (makespan) of each project.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Total makespan: minimize the duration of the whole multi-project schedule.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The problem is defined by <a href="http://gent.cs.kuleuven.be/mista2013challenge/">the MISTA 2013 challenge</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="projectJobSchedulingProblemSize"><a class="anchor" href="#projectJobSchedulingProblemSize"></a>10.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>Schedule A-1  has  2 projects,  24 jobs,   64 execution modes,  7 resources and  150 resource requirements.
Schedule A-2  has  2 projects,  44 jobs,  124 execution modes,  7 resources and  420 resource requirements.
Schedule A-3  has  2 projects,  64 jobs,  184 execution modes,  7 resources and  630 resource requirements.
Schedule A-4  has  5 projects,  60 jobs,  160 execution modes, 16 resources and  390 resource requirements.
Schedule A-5  has  5 projects, 110 jobs,  310 execution modes, 16 resources and  900 resource requirements.
Schedule A-6  has  5 projects, 160 jobs,  460 execution modes, 16 resources and 1440 resource requirements.
Schedule A-7  has 10 projects, 120 jobs,  320 execution modes, 22 resources and  900 resource requirements.
Schedule A-8  has 10 projects, 220 jobs,  620 execution modes, 22 resources and 1860 resource requirements.
Schedule A-9  has 10 projects, 320 jobs,  920 execution modes, 31 resources and 2880 resource requirements.
Schedule A-10 has 10 projects, 320 jobs,  920 execution modes, 31 resources and 2970 resource requirements.
Schedule B-1  has 10 projects, 120 jobs,  320 execution modes, 31 resources and  900 resource requirements.
Schedule B-2  has 10 projects, 220 jobs,  620 execution modes, 22 resources and 1740 resource requirements.
Schedule B-3  has 10 projects, 320 jobs,  920 execution modes, 31 resources and 3060 resource requirements.
Schedule B-4  has 15 projects, 180 jobs,  480 execution modes, 46 resources and 1530 resource requirements.
Schedule B-5  has 15 projects, 330 jobs,  930 execution modes, 46 resources and 2760 resource requirements.
Schedule B-6  has 15 projects, 480 jobs, 1380 execution modes, 46 resources and 4500 resource requirements.
Schedule B-7  has 20 projects, 240 jobs,  640 execution modes, 61 resources and 1710 resource requirements.
Schedule B-8  has 20 projects, 440 jobs, 1240 execution modes, 42 resources and 3180 resource requirements.
Schedule B-9  has 20 projects, 640 jobs, 1840 execution modes, 61 resources and 5940 resource requirements.
Schedule B-10 has 20 projects, 460 jobs, 1300 execution modes, 42 resources and 4260 resource requirements.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="bedAllocation"><a class="anchor" href="#bedAllocation"></a>11. Hospital bed planning (PAS - Patient Admission Scheduling)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="bedAllocationProblemDescription"><a class="anchor" href="#bedAllocationProblemDescription"></a>11.1. Problem description</h3>
<div class="paragraph">
<p>Assign each patient (that will come to the hospital) into a bed for each night that the patient will stay in the hospital.
Each bed belongs to a room and each room belongs to a department.
The arrival and departure dates of the patients is fixed: only a bed needs to be assigned for each night.</p>
</div>
<div class="paragraph">
<p>This problem features <a href="../repeated-planning/repeated-planning.html#overconstrainedPlanning" class="page">overconstrained</a> datasets.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/bed-allocation/patientAdmissionScheduleUseCase.png" alt="patientAdmissionScheduleUseCase">
</div>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Two patients must not be assigned to the same bed in the same night. Weight: <code>-1000hard * conflictNightCount</code>.</p>
</li>
<li>
<p>A room can have a gender limitation: only females, only males, the same gender in the same night or no gender limitation at all. Weight: <code>-50hard * nightCount</code>.</p>
</li>
<li>
<p>A department can have a minimum or maximum age. Weight: <code>-100hard * nightCount</code>.</p>
</li>
<li>
<p>A patient can require a room with specific equipment(s). Weight: <code>-50hard * nightCount</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Medium constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Assign every patient to a bed, unless the dataset is overconstrained. Weight: <code>-1medium * nightCount</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A patient can prefer a maximum room size, for example if he/she wants a single room. Weight: <code>-8soft * nightCount</code>.</p>
</li>
<li>
<p>A patient is best assigned to a department that specializes in his/her problem. Weight: <code>-10soft * nightCount</code>.</p>
</li>
<li>
<p>A patient is best assigned to a room that specializes in his/her problem. Weight: <code>-20soft * nightCount</code>.</p>
<div class="ulist">
<ul>
<li>
<p>That room speciality should be priority 1. Weight: <code>-10soft * (priority - 1) * nightCount</code>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>A patient can prefer a room with specific equipment(s). Weight: <code>-20soft * nightCount</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The problem is a variant on <a href="https://people.cs.kuleuven.be/~wim.vancroonenburg/pas/">Kaho&#8217;s Patient Scheduling</a> and the datasets come from real world hospitals.</p>
</div>
</div>
<div class="sect2">
<h3 id="bedAllocationProblemSize"><a class="anchor" href="#bedAllocationProblemSize"></a>11.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>overconstrained01 has 6 specialisms, 4 equipments, 1 departments,  25 rooms,  69 beds, 14 nights,  519 patients and  519 admissions with a search space of 10^958.
testdata01        has 4 specialisms, 2 equipments, 4 departments,  98 rooms, 286 beds, 14 nights,  652 patients and  652 admissions with a search space of 10^1603.
testdata02        has 6 specialisms, 2 equipments, 6 departments, 151 rooms, 465 beds, 14 nights,  755 patients and  755 admissions with a search space of 10^2015.
testdata03        has 5 specialisms, 2 equipments, 5 departments, 131 rooms, 395 beds, 14 nights,  708 patients and  708 admissions with a search space of 10^1840.
testdata04        has 6 specialisms, 2 equipments, 6 departments, 155 rooms, 471 beds, 14 nights,  746 patients and  746 admissions with a search space of 10^1995.
testdata05        has 4 specialisms, 2 equipments, 4 departments, 102 rooms, 325 beds, 14 nights,  587 patients and  587 admissions with a search space of 10^1476.
testdata06        has 4 specialisms, 2 equipments, 4 departments, 104 rooms, 313 beds, 14 nights,  685 patients and  685 admissions with a search space of 10^1711.
testdata07        has 6 specialisms, 4 equipments, 6 departments, 162 rooms, 472 beds, 14 nights,  519 patients and  519 admissions with a search space of 10^1389.
testdata08        has 6 specialisms, 4 equipments, 6 departments, 148 rooms, 441 beds, 21 nights,  895 patients and  895 admissions with a search space of 10^2368.
testdata09        has 4 specialisms, 4 equipments, 4 departments, 105 rooms, 310 beds, 28 nights, 1400 patients and 1400 admissions with a search space of 10^3490.
testdata10        has 4 specialisms, 4 equipments, 4 departments, 104 rooms, 308 beds, 56 nights, 1575 patients and 1575 admissions with a search space of 10^3922.
testdata11        has 4 specialisms, 4 equipments, 4 departments, 107 rooms, 318 beds, 91 nights, 2514 patients and 2514 admissions with a search space of 10^6295.
testdata12        has 4 specialisms, 4 equipments, 4 departments, 105 rooms, 310 beds, 84 nights, 2750 patients and 2750 admissions with a search space of 10^6856.
testdata13        has 5 specialisms, 4 equipments, 5 departments, 125 rooms, 368 beds, 28 nights,  907 patients and 1109 admissions with a search space of 10^2847.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="bedAllocationDomainModel"><a class="anchor" href="#bedAllocationDomainModel"></a>11.3. Domain model</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/bed-allocation/hospitalBedAllocationClassDiagram.png" alt="hospitalBedAllocationClassDiagram">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="taskAssigning"><a class="anchor" href="#taskAssigning"></a>12. Task assigning</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="taskAssigningProblemDescription"><a class="anchor" href="#taskAssigningProblemDescription"></a>12.1. Problem description</h3>
<div class="paragraph">
<p>Assign each task to a spot in an employee&#8217;s queue.
Each task has a duration which is affected by the employee&#8217;s affinity level with the task&#8217;s customer.</p>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Skill: Each task requires one or more skills. The employee must possess all these skills.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft level 0 constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Critical tasks: Complete critical tasks first, sooner than major and minor tasks.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft level 1 constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Minimize makespan: Reduce the time to complete all tasks.</p>
<div class="ulist">
<ul>
<li>
<p>Start with the longest working employee first, then the second longest working employee and so forth, to create <a href="../score-calculation/score-calculation.html#fairnessScoreConstraints" class="page">fairness and load balancing</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft level 2 constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Major tasks: Complete major tasks as soon as possible, sooner than minor tasks.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft level 3 constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Minor tasks: Complete minor tasks as soon as possible.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="taskAssigningValueProposition"><a class="anchor" href="#taskAssigningValueProposition"></a>12.2. Value proposition</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/task-assigning/taskAssigningValueProposition.png" alt="taskAssigningValueProposition">
</div>
</div>
</div>
<div class="sect2">
<h3 id="taskAssigningProblemSize"><a class="anchor" href="#taskAssigningProblemSize"></a>12.3. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>24tasks-8employees   has  24 tasks, 6 skills,  8 employees,   4 task types and  4 customers with a search space of   10^30.
50tasks-5employees   has  50 tasks, 5 skills,  5 employees,  10 task types and 10 customers with a search space of   10^69.
100tasks-5employees  has 100 tasks, 5 skills,  5 employees,  20 task types and 15 customers with a search space of  10^164.
500tasks-20employees has 500 tasks, 6 skills, 20 employees, 100 task types and 60 customers with a search space of 10^1168.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="taskAssigningDomainModel"><a class="anchor" href="#taskAssigningDomainModel"></a>12.4. Domain model</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/task-assigning/taskAssigningClassDiagram.png" alt="taskAssigningClassDiagram">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examination"><a class="anchor" href="#examination"></a>13. Exam timetabling (ITC 2007 track 1 - Examination)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="examinationProblemDescription"><a class="anchor" href="#examinationProblemDescription"></a>13.1. Problem description</h3>
<div class="paragraph">
<p>Schedule each exam into a period and into a room.
Multiple exams can share the same room during the same period.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/exam-timetabling/examinationTimetablingUseCase.png" alt="examinationTimetablingUseCase">
</div>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Exam conflict: two exams that share students must not occur in the same period.</p>
</li>
<li>
<p>Room capacity: A room&#8217;s seating capacity must suffice at all times.</p>
</li>
<li>
<p>Period duration: A period&#8217;s duration must suffice for all of its exams.</p>
</li>
<li>
<p>Period related hard constraints (specified per dataset):</p>
<div class="ulist">
<ul>
<li>
<p>Coincidence: two specified exams must use the same period (but possibly another room).</p>
</li>
<li>
<p>Exclusion: two specified exams must not use the same period.</p>
</li>
<li>
<p>After: A specified exam must occur in a period after another specified exam&#8217;s period.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Room related hard constraints (specified per dataset):</p>
<div class="ulist">
<ul>
<li>
<p>Exclusive: one specified exam should not have to share its room with any other exam.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints (each of which has a parametrized penalty):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The same student should not have two exams in a row.</p>
</li>
<li>
<p>The same student should not have two exams on the same day.</p>
</li>
<li>
<p>Period spread: two exams that share students should be a number of periods apart.</p>
</li>
<li>
<p>Mixed durations: two exams that share a room should not have different durations.</p>
</li>
<li>
<p>Front load: Large exams should be scheduled earlier in the schedule.</p>
</li>
<li>
<p>Period penalty (specified per dataset): Some periods have a penalty when used.</p>
</li>
<li>
<p>Room penalty (specified per dataset): Some rooms have a penalty when used.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It uses large test data sets of real-life universities.</p>
</div>
<div class="paragraph">
<p>The problem is defined by <a href="http://www.cs.qub.ac.uk/itc2007/examtrack/exam_track_index.htm">the International Timetabling Competition 2007 track 1</a>.
Geoffrey De Smet finished 4th in that competition with a very early version of OptaPlanner.
Many improvements have been made since then.</p>
</div>
</div>
<div class="sect2">
<h3 id="examinationProblemSize"><a class="anchor" href="#examinationProblemSize"></a>13.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>exam_comp_set1 has  7883 students,  607 exams, 54 periods,  7 rooms,  12 period constraints and  0 room constraints with a search space of 10^1564.
exam_comp_set2 has 12484 students,  870 exams, 40 periods, 49 rooms,  12 period constraints and  2 room constraints with a search space of 10^2864.
exam_comp_set3 has 16365 students,  934 exams, 36 periods, 48 rooms, 168 period constraints and 15 room constraints with a search space of 10^3023.
exam_comp_set4 has  4421 students,  273 exams, 21 periods,  1 rooms,  40 period constraints and  0 room constraints with a search space of  10^360.
exam_comp_set5 has  8719 students, 1018 exams, 42 periods,  3 rooms,  27 period constraints and  0 room constraints with a search space of 10^2138.
exam_comp_set6 has  7909 students,  242 exams, 16 periods,  8 rooms,  22 period constraints and  0 room constraints with a search space of  10^509.
exam_comp_set7 has 13795 students, 1096 exams, 80 periods, 15 rooms,  28 period constraints and  0 room constraints with a search space of 10^3374.
exam_comp_set8 has  7718 students,  598 exams, 80 periods,  8 rooms,  20 period constraints and  1 room constraints with a search space of 10^1678.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examinationDomainModel"><a class="anchor" href="#examinationDomainModel"></a>13.3. Domain model</h3>
<div class="paragraph">
<p>Below you can see the main examination domain classes:</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/exam-timetabling/examinationDomainDiagram.png" alt="examinationDomainDiagram">
</div>
<div class="title">Figure 3. Examination Domain Class Diagram</div>
</div>
<div class="paragraph">
<p>Notice that we&#8217;ve split up the exam concept into an <code>Exam</code> class and a <code>Topic</code> class.
The <code>Exam</code> instances change during solving (this is the planning entity class), when their period or room property changes.
The <code>Topic</code>, <code>Period</code> and <code>Room</code> instances never change during solving (these are problem facts, just like some other classes).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="nurseRostering"><a class="anchor" href="#nurseRostering"></a>14. Nurse rostering (INRC 2010)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="nurseRosteringProblemDescription"><a class="anchor" href="#nurseRosteringProblemDescription"></a>14.1. Problem description</h3>
<div class="paragraph">
<p>For each shift, assign a nurse to work that shift.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/nurse-rostering/employeeShiftRosteringUseCase.png" alt="employeeShiftRosteringUseCase">
</div>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>No unassigned shifts</strong> (built-in): Every shift need to be assigned to an employee.</p>
</li>
<li>
<p><strong>Shift conflict</strong>: An employee can have only one shift per day.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Contract obligations. The business frequently violates these, so they decided to define these as soft constraints instead of hard constraints.</p>
<div class="ulist">
<ul>
<li>
<p><strong>Minimum and maximum assignments</strong>: Each employee needs to work more than x shifts and less than y shifts (depending on their contract).</p>
</li>
<li>
<p><strong>Minimum and maximum consecutive working days</strong>: Each employee needs to work between x and y days in a row (depending on their contract).</p>
</li>
<li>
<p><strong>Minimum and maximum consecutive free days</strong>: Each employee needs to be free between x and y days in a row (depending on their contract).</p>
</li>
<li>
<p><strong>Minimum and maximum consecutive working weekends</strong>: Each employee needs to work between x and y weekends in a row (depending on their contract).</p>
</li>
<li>
<p><strong>Complete weekends</strong>: Each employee needs to work every day in a weekend or not at all.</p>
</li>
<li>
<p><strong>Identical shift types during weekend</strong>: Each weekend shift for the same weekend of the same employee must be the same shift type.</p>
</li>
<li>
<p><strong>Unwanted patterns</strong>: A combination of unwanted shift types in a row. For example: a late shift followed by an early shift followed by a late shift.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Employee wishes:</p>
<div class="ulist">
<ul>
<li>
<p><strong>Day on request</strong>: An employee wants to work on a specific day.</p>
</li>
<li>
<p><strong>Day off request</strong>: An employee does not want to work on a specific day.</p>
</li>
<li>
<p><strong>Shift on request</strong>: An employee wants to be assigned to a specific shift.</p>
</li>
<li>
<p><strong>Shift off request</strong>: An employee does not want to be assigned to a specific shift.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative skill</strong>: An employee assigned to a shift should have a proficiency in every skill required by that shift.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The problem is defined by <a href="https://www.kuleuven-kulak.be/~u0041139/nrpcompetition/nrpcompetition_description.pdf">the International Nurse Rostering Competition 2010</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="nurseRosteringValueProposition"><a class="anchor" href="#nurseRosteringValueProposition"></a>14.2. Value proposition</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/nurse-rostering/employeeRosteringValueProposition.png" alt="employeeRosteringValueProposition">
</div>
</div>
</div>
<div class="sect2">
<h3 id="nurseRosteringProblemSize"><a class="anchor" href="#nurseRosteringProblemSize"></a>14.3. Problem size</h3>
<div class="paragraph">
<p>There are three dataset types:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>sprint: must be solved in seconds.</p>
</li>
<li>
<p>medium: must be solved in minutes.</p>
</li>
<li>
<p>long: must be solved in hours.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>toy1          has 1 skills, 3 shiftTypes, 2 patterns, 1 contracts,  6 employees,  7 shiftDates,  35 shiftAssignments and   0 requests with a search space of   10^27.
toy2          has 1 skills, 3 shiftTypes, 3 patterns, 2 contracts, 20 employees, 28 shiftDates, 180 shiftAssignments and 140 requests with a search space of  10^234.

sprint01      has 1 skills, 4 shiftTypes, 3 patterns, 4 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint02      has 1 skills, 4 shiftTypes, 3 patterns, 4 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint03      has 1 skills, 4 shiftTypes, 3 patterns, 4 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint04      has 1 skills, 4 shiftTypes, 3 patterns, 4 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint05      has 1 skills, 4 shiftTypes, 3 patterns, 4 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint06      has 1 skills, 4 shiftTypes, 3 patterns, 4 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint07      has 1 skills, 4 shiftTypes, 3 patterns, 4 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint08      has 1 skills, 4 shiftTypes, 3 patterns, 4 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint09      has 1 skills, 4 shiftTypes, 3 patterns, 4 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint10      has 1 skills, 4 shiftTypes, 3 patterns, 4 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint_hint01 has 1 skills, 4 shiftTypes, 8 patterns, 3 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint_hint02 has 1 skills, 4 shiftTypes, 0 patterns, 3 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint_hint03 has 1 skills, 4 shiftTypes, 8 patterns, 3 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint_late01 has 1 skills, 4 shiftTypes, 8 patterns, 3 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint_late02 has 1 skills, 3 shiftTypes, 4 patterns, 3 contracts, 10 employees, 28 shiftDates, 144 shiftAssignments and 139 requests with a search space of  10^144.
sprint_late03 has 1 skills, 4 shiftTypes, 8 patterns, 3 contracts, 10 employees, 28 shiftDates, 160 shiftAssignments and 150 requests with a search space of  10^160.
sprint_late04 has 1 skills, 4 shiftTypes, 8 patterns, 3 contracts, 10 employees, 28 shiftDates, 160 shiftAssignments and 150 requests with a search space of  10^160.
sprint_late05 has 1 skills, 4 shiftTypes, 8 patterns, 3 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint_late06 has 1 skills, 4 shiftTypes, 0 patterns, 3 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint_late07 has 1 skills, 4 shiftTypes, 0 patterns, 3 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.
sprint_late08 has 1 skills, 4 shiftTypes, 0 patterns, 3 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and   0 requests with a search space of  10^152.
sprint_late09 has 1 skills, 4 shiftTypes, 0 patterns, 3 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and   0 requests with a search space of  10^152.
sprint_late10 has 1 skills, 4 shiftTypes, 0 patterns, 3 contracts, 10 employees, 28 shiftDates, 152 shiftAssignments and 150 requests with a search space of  10^152.

medium01      has 1 skills, 4 shiftTypes, 0 patterns, 4 contracts, 31 employees, 28 shiftDates, 608 shiftAssignments and 403 requests with a search space of  10^906.
medium02      has 1 skills, 4 shiftTypes, 0 patterns, 4 contracts, 31 employees, 28 shiftDates, 608 shiftAssignments and 403 requests with a search space of  10^906.
medium03      has 1 skills, 4 shiftTypes, 0 patterns, 4 contracts, 31 employees, 28 shiftDates, 608 shiftAssignments and 403 requests with a search space of  10^906.
medium04      has 1 skills, 4 shiftTypes, 0 patterns, 4 contracts, 31 employees, 28 shiftDates, 608 shiftAssignments and 403 requests with a search space of  10^906.
medium05      has 1 skills, 4 shiftTypes, 0 patterns, 4 contracts, 31 employees, 28 shiftDates, 608 shiftAssignments and 403 requests with a search space of  10^906.
medium_hint01 has 1 skills, 4 shiftTypes, 7 patterns, 4 contracts, 30 employees, 28 shiftDates, 428 shiftAssignments and 390 requests with a search space of  10^632.
medium_hint02 has 1 skills, 4 shiftTypes, 7 patterns, 3 contracts, 30 employees, 28 shiftDates, 428 shiftAssignments and 390 requests with a search space of  10^632.
medium_hint03 has 1 skills, 4 shiftTypes, 7 patterns, 4 contracts, 30 employees, 28 shiftDates, 428 shiftAssignments and 390 requests with a search space of  10^632.
medium_late01 has 1 skills, 4 shiftTypes, 7 patterns, 4 contracts, 30 employees, 28 shiftDates, 424 shiftAssignments and 390 requests with a search space of  10^626.
medium_late02 has 1 skills, 4 shiftTypes, 7 patterns, 3 contracts, 30 employees, 28 shiftDates, 428 shiftAssignments and 390 requests with a search space of  10^632.
medium_late03 has 1 skills, 4 shiftTypes, 0 patterns, 4 contracts, 30 employees, 28 shiftDates, 428 shiftAssignments and 390 requests with a search space of  10^632.
medium_late04 has 1 skills, 4 shiftTypes, 7 patterns, 3 contracts, 30 employees, 28 shiftDates, 416 shiftAssignments and 390 requests with a search space of  10^614.
medium_late05 has 2 skills, 5 shiftTypes, 7 patterns, 4 contracts, 30 employees, 28 shiftDates, 452 shiftAssignments and 390 requests with a search space of  10^667.

long01        has 2 skills, 5 shiftTypes, 3 patterns, 3 contracts, 49 employees, 28 shiftDates, 740 shiftAssignments and 735 requests with a search space of 10^1250.
long02        has 2 skills, 5 shiftTypes, 3 patterns, 3 contracts, 49 employees, 28 shiftDates, 740 shiftAssignments and 735 requests with a search space of 10^1250.
long03        has 2 skills, 5 shiftTypes, 3 patterns, 3 contracts, 49 employees, 28 shiftDates, 740 shiftAssignments and 735 requests with a search space of 10^1250.
long04        has 2 skills, 5 shiftTypes, 3 patterns, 3 contracts, 49 employees, 28 shiftDates, 740 shiftAssignments and 735 requests with a search space of 10^1250.
long05        has 2 skills, 5 shiftTypes, 3 patterns, 3 contracts, 49 employees, 28 shiftDates, 740 shiftAssignments and 735 requests with a search space of 10^1250.
long_hint01   has 2 skills, 5 shiftTypes, 9 patterns, 3 contracts, 50 employees, 28 shiftDates, 740 shiftAssignments and   0 requests with a search space of 10^1257.
long_hint02   has 2 skills, 5 shiftTypes, 7 patterns, 3 contracts, 50 employees, 28 shiftDates, 740 shiftAssignments and   0 requests with a search space of 10^1257.
long_hint03   has 2 skills, 5 shiftTypes, 7 patterns, 3 contracts, 50 employees, 28 shiftDates, 740 shiftAssignments and   0 requests with a search space of 10^1257.
long_late01   has 2 skills, 5 shiftTypes, 9 patterns, 3 contracts, 50 employees, 28 shiftDates, 752 shiftAssignments and   0 requests with a search space of 10^1277.
long_late02   has 2 skills, 5 shiftTypes, 9 patterns, 4 contracts, 50 employees, 28 shiftDates, 752 shiftAssignments and   0 requests with a search space of 10^1277.
long_late03   has 2 skills, 5 shiftTypes, 9 patterns, 3 contracts, 50 employees, 28 shiftDates, 752 shiftAssignments and   0 requests with a search space of 10^1277.
long_late04   has 2 skills, 5 shiftTypes, 9 patterns, 4 contracts, 50 employees, 28 shiftDates, 752 shiftAssignments and   0 requests with a search space of 10^1277.
long_late05   has 2 skills, 5 shiftTypes, 9 patterns, 3 contracts, 50 employees, 28 shiftDates, 740 shiftAssignments and   0 requests with a search space of 10^1257.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="nurseRosteringDomainModel"><a class="anchor" href="#nurseRosteringDomainModel"></a>14.4. Domain model</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/nurse-rostering/nurseRosteringClassDiagram.png" alt="nurseRosteringClassDiagram">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="travelingTournament"><a class="anchor" href="#travelingTournament"></a>15. Traveling tournament problem (TTP)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="travelingTournamentProblemDescription"><a class="anchor" href="#travelingTournamentProblemDescription"></a>15.1. Problem description</h3>
<div class="paragraph">
<p>Schedule matches between <em>n</em> teams.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/travelling-tournament/travelingTournamentUseCase.png" alt="travelingTournamentUseCase">
</div>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Each team plays twice against every other team: once home and once away.</p>
</li>
<li>
<p>Each team has exactly one match on each timeslot.</p>
</li>
<li>
<p>No team must have more than three consecutive home or three consecutive away matches.</p>
</li>
<li>
<p>No repeaters: no two consecutive matches of the same two opposing teams.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Minimize the total distance traveled by all teams.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The problem is defined on <a href="http://mat.tepper.cmu.edu/TOURN/">Michael Trick&#8217;s website (which contains the world records too)</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="travelingTournamentProblemSize"><a class="anchor" href="#travelingTournamentProblemSize"></a>15.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>1-nl04     has  6 days,  4 teams and   12 matches with a search space of    10^5.
1-nl06     has 10 days,  6 teams and   30 matches with a search space of   10^19.
1-nl08     has 14 days,  8 teams and   56 matches with a search space of   10^43.
1-nl10     has 18 days, 10 teams and   90 matches with a search space of   10^79.
1-nl12     has 22 days, 12 teams and  132 matches with a search space of  10^126.
1-nl14     has 26 days, 14 teams and  182 matches with a search space of  10^186.
1-nl16     has 30 days, 16 teams and  240 matches with a search space of  10^259.
2-bra24    has 46 days, 24 teams and  552 matches with a search space of  10^692.
3-nfl16    has 30 days, 16 teams and  240 matches with a search space of  10^259.
3-nfl18    has 34 days, 18 teams and  306 matches with a search space of  10^346.
3-nfl20    has 38 days, 20 teams and  380 matches with a search space of  10^447.
3-nfl22    has 42 days, 22 teams and  462 matches with a search space of  10^562.
3-nfl24    has 46 days, 24 teams and  552 matches with a search space of  10^692.
3-nfl26    has 50 days, 26 teams and  650 matches with a search space of  10^838.
3-nfl28    has 54 days, 28 teams and  756 matches with a search space of  10^999.
3-nfl30    has 58 days, 30 teams and  870 matches with a search space of 10^1175.
3-nfl32    has 62 days, 32 teams and  992 matches with a search space of 10^1367.
4-super04  has  6 days,  4 teams and   12 matches with a search space of    10^5.
4-super06  has 10 days,  6 teams and   30 matches with a search space of   10^19.
4-super08  has 14 days,  8 teams and   56 matches with a search space of   10^43.
4-super10  has 18 days, 10 teams and   90 matches with a search space of   10^79.
4-super12  has 22 days, 12 teams and  132 matches with a search space of  10^126.
4-super14  has 26 days, 14 teams and  182 matches with a search space of  10^186.
5-galaxy04 has  6 days,  4 teams and   12 matches with a search space of    10^5.
5-galaxy06 has 10 days,  6 teams and   30 matches with a search space of   10^19.
5-galaxy08 has 14 days,  8 teams and   56 matches with a search space of   10^43.
5-galaxy10 has 18 days, 10 teams and   90 matches with a search space of   10^79.
5-galaxy12 has 22 days, 12 teams and  132 matches with a search space of  10^126.
5-galaxy14 has 26 days, 14 teams and  182 matches with a search space of  10^186.
5-galaxy16 has 30 days, 16 teams and  240 matches with a search space of  10^259.
5-galaxy18 has 34 days, 18 teams and  306 matches with a search space of  10^346.
5-galaxy20 has 38 days, 20 teams and  380 matches with a search space of  10^447.
5-galaxy22 has 42 days, 22 teams and  462 matches with a search space of  10^562.
5-galaxy24 has 46 days, 24 teams and  552 matches with a search space of  10^692.
5-galaxy26 has 50 days, 26 teams and  650 matches with a search space of  10^838.
5-galaxy28 has 54 days, 28 teams and  756 matches with a search space of  10^999.
5-galaxy30 has 58 days, 30 teams and  870 matches with a search space of 10^1175.
5-galaxy32 has 62 days, 32 teams and  992 matches with a search space of 10^1367.
5-galaxy34 has 66 days, 34 teams and 1122 matches with a search space of 10^1576.
5-galaxy36 has 70 days, 36 teams and 1260 matches with a search space of 10^1801.
5-galaxy38 has 74 days, 38 teams and 1406 matches with a search space of 10^2042.
5-galaxy40 has 78 days, 40 teams and 1560 matches with a search space of 10^2301.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="cheapTimeScheduling"><a class="anchor" href="#cheapTimeScheduling"></a>16. Cheap time scheduling</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="cheapTimeSchedulingProblemDescription"><a class="anchor" href="#cheapTimeSchedulingProblemDescription"></a>16.1. Problem description</h3>
<div class="paragraph">
<p>Schedule all tasks in time and on a machine to minimize power cost.
Power prices differs in time.
This is a form of <em>job shop scheduling</em>.</p>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Start time limits: each task must start between its earliest start and latest start limit.</p>
</li>
<li>
<p>Maximum capacity: the maximum capacity for each resource for each machine must not be exceeded.</p>
</li>
<li>
<p>Startup and shutdown: each machine must be active in the periods during which it has assigned tasks. Between tasks it is allowed to be idle to avoid startup and shutdown costs.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Medium constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Power cost: minimize the total power cost of the whole schedule.</p>
<div class="ulist">
<ul>
<li>
<p>Machine power cost: Each active or idle machine consumes power, which infers a power cost (depending on the power price during that time).</p>
</li>
<li>
<p>Task power cost: Each task consumes power too, which infers a power cost (depending on the power price during its time).</p>
</li>
<li>
<p>Machine startup and shutdown cost: Every time a machine starts up or shuts down, an extra cost is inflicted.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints (addendum to the original problem definition):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Start early: prefer starting a task sooner rather than later.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The problem is defined by the ICON challenge 2014.</p>
</div>
</div>
<div class="sect2">
<h3 id="cheapTimeSchedulingProblemSize"><a class="anchor" href="#cheapTimeSchedulingProblemSize"></a>16.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>sample01   has 3 resources,   2 machines, 288 periods and   25 tasks with a search space of    10^53.
sample02   has 3 resources,   2 machines, 288 periods and   50 tasks with a search space of   10^114.
sample03   has 3 resources,   2 machines, 288 periods and  100 tasks with a search space of   10^226.
sample04   has 3 resources,   5 machines, 288 periods and  100 tasks with a search space of   10^266.
sample05   has 3 resources,   2 machines, 288 periods and  250 tasks with a search space of   10^584.
sample06   has 3 resources,   5 machines, 288 periods and  250 tasks with a search space of   10^673.
sample07   has 3 resources,   2 machines, 288 periods and 1000 tasks with a search space of  10^2388.
sample08   has 3 resources,   5 machines, 288 periods and 1000 tasks with a search space of  10^2748.
sample09   has 4 resources,  20 machines, 288 periods and 2000 tasks with a search space of  10^6668.
instance00 has 1 resources,  10 machines, 288 periods and  200 tasks with a search space of   10^595.
instance01 has 1 resources,  10 machines, 288 periods and  200 tasks with a search space of   10^599.
instance02 has 1 resources,  10 machines, 288 periods and  200 tasks with a search space of   10^599.
instance03 has 1 resources,  10 machines, 288 periods and  200 tasks with a search space of   10^591.
instance04 has 1 resources,  10 machines, 288 periods and  200 tasks with a search space of   10^590.
instance05 has 2 resources,  25 machines, 288 periods and  200 tasks with a search space of   10^667.
instance06 has 2 resources,  25 machines, 288 periods and  200 tasks with a search space of   10^660.
instance07 has 2 resources,  25 machines, 288 periods and  200 tasks with a search space of   10^662.
instance08 has 2 resources,  25 machines, 288 periods and  200 tasks with a search space of   10^651.
instance09 has 2 resources,  25 machines, 288 periods and  200 tasks with a search space of   10^659.
instance10 has 2 resources,  20 machines, 288 periods and  500 tasks with a search space of  10^1657.
instance11 has 2 resources,  20 machines, 288 periods and  500 tasks with a search space of  10^1644.
instance12 has 2 resources,  20 machines, 288 periods and  500 tasks with a search space of  10^1637.
instance13 has 2 resources,  20 machines, 288 periods and  500 tasks with a search space of  10^1659.
instance14 has 2 resources,  20 machines, 288 periods and  500 tasks with a search space of  10^1643.
instance15 has 3 resources,  40 machines, 288 periods and  500 tasks with a search space of  10^1782.
instance16 has 3 resources,  40 machines, 288 periods and  500 tasks with a search space of  10^1778.
instance17 has 3 resources,  40 machines, 288 periods and  500 tasks with a search space of  10^1764.
instance18 has 3 resources,  40 machines, 288 periods and  500 tasks with a search space of  10^1769.
instance19 has 3 resources,  40 machines, 288 periods and  500 tasks with a search space of  10^1778.
instance20 has 3 resources,  50 machines, 288 periods and 1000 tasks with a search space of  10^3689.
instance21 has 3 resources,  50 machines, 288 periods and 1000 tasks with a search space of  10^3678.
instance22 has 3 resources,  50 machines, 288 periods and 1000 tasks with a search space of  10^3706.
instance23 has 3 resources,  50 machines, 288 periods and 1000 tasks with a search space of  10^3676.
instance24 has 3 resources,  50 machines, 288 periods and 1000 tasks with a search space of  10^3681.
instance25 has 3 resources,  60 machines, 288 periods and 1000 tasks with a search space of  10^3774.
instance26 has 3 resources,  60 machines, 288 periods and 1000 tasks with a search space of  10^3737.
instance27 has 3 resources,  60 machines, 288 periods and 1000 tasks with a search space of  10^3744.
instance28 has 3 resources,  60 machines, 288 periods and 1000 tasks with a search space of  10^3731.
instance29 has 3 resources,  60 machines, 288 periods and 1000 tasks with a search space of  10^3746.
instance30 has 4 resources,  70 machines, 288 periods and 2000 tasks with a search space of  10^7718.
instance31 has 4 resources,  70 machines, 288 periods and 2000 tasks with a search space of  10^7740.
instance32 has 4 resources,  70 machines, 288 periods and 2000 tasks with a search space of  10^7686.
instance33 has 4 resources,  70 machines, 288 periods and 2000 tasks with a search space of  10^7672.
instance34 has 4 resources,  70 machines, 288 periods and 2000 tasks with a search space of  10^7695.
instance35 has 4 resources,  80 machines, 288 periods and 2000 tasks with a search space of  10^7807.
instance36 has 4 resources,  80 machines, 288 periods and 2000 tasks with a search space of  10^7814.
instance37 has 4 resources,  80 machines, 288 periods and 2000 tasks with a search space of  10^7764.
instance38 has 4 resources,  80 machines, 288 periods and 2000 tasks with a search space of  10^7736.
instance39 has 4 resources,  80 machines, 288 periods and 2000 tasks with a search space of  10^7783.
instance40 has 4 resources,  90 machines, 288 periods and 4000 tasks with a search space of 10^15976.
instance41 has 4 resources,  90 machines, 288 periods and 4000 tasks with a search space of 10^15935.
instance42 has 4 resources,  90 machines, 288 periods and 4000 tasks with a search space of 10^15887.
instance43 has 4 resources,  90 machines, 288 periods and 4000 tasks with a search space of 10^15896.
instance44 has 4 resources,  90 machines, 288 periods and 4000 tasks with a search space of 10^15885.
instance45 has 4 resources, 100 machines, 288 periods and 5000 tasks with a search space of 10^20173.
instance46 has 4 resources, 100 machines, 288 periods and 5000 tasks with a search space of 10^20132.
instance47 has 4 resources, 100 machines, 288 periods and 5000 tasks with a search space of 10^20126.
instance48 has 4 resources, 100 machines, 288 periods and 5000 tasks with a search space of 10^20110.
instance49 has 4 resources, 100 machines, 288 periods and 5000 tasks with a search space of 10^20078.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="investment"><a class="anchor" href="#investment"></a>17. Investment asset class allocation (portfolio optimization)</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="investmentProblemDescription"><a class="anchor" href="#investmentProblemDescription"></a>17.1. Problem description</h3>
<div class="paragraph">
<p>Decide the relative quantity to invest in each asset class.</p>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Risk maximum: the total standard deviation must not be higher than the standard deviation maximum.</p>
<div class="ulist">
<ul>
<li>
<p>Total standard deviation calculation takes asset class correlations into account by applying <a href="https://en.wikipedia.org/wiki/Modern_portfolio_theory">Markowitz Portfolio Theory</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Region maximum: Each region has a quantity maximum.</p>
</li>
<li>
<p>Sector maximum: Each sector has a quantity maximum.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maximize expected return.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="investmentProblemSize"><a class="anchor" href="#investmentProblemSize"></a>17.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>de_smet_1 has 1 regions, 3 sectors and 11 asset classes with a search space of 10^4.
irrinki_1 has 2 regions, 3 sectors and 6 asset classes with a search space of 10^3.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Larger datasets have not been created or tested yet, but should not pose a problem.
A good source of data is <a href="https://www.portfoliovisualizer.com/asset-correlations">this Asset Correlation website</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="conferenceScheduling"><a class="anchor" href="#conferenceScheduling"></a>18. Conference scheduling</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="conferenceSchedulingProblemDescription"><a class="anchor" href="#conferenceSchedulingProblemDescription"></a>18.1. Problem description</h3>
<div class="paragraph">
<p>Assign each conference talk to a timeslot and a room, after the talks have been accepted.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/conference-scheduling/conferenceSchedulingMilestonesTimeline.png" alt="conferenceSchedulingMilestonesTimeline">
</div>
</div>
<div class="paragraph">
<p>Timeslots can overlap. It reads/writes to/from an <code>*.xlsx</code> file that can be edited with LibreOffice or Excel.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/conference-scheduling/conferenceSchedulingProblem.png" alt="conferenceSchedulingProblem">
</div>
</div>
<div class="paragraph">
<p>Built-in hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Talk type of timeslot: The type of a talk must match the timeslot&#8217;s talk type.</p>
</li>
<li>
<p>Room unavailable timeslots: A talk&#8217;s room must be available during the talk&#8217;s timeslot.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Hard constraints (unless configured otherwise):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Room conflict: Two talks can&#8217;t use the same room during overlapping timeslots.</p>
</li>
<li>
<p>Speaker unavailable timeslots: Every talk&#8217;s speaker must be available during the talk&#8217;s timeslot.</p>
</li>
<li>
<p>Speaker conflict: Two talks can&#8217;t share a speaker during overlapping timeslots.</p>
</li>
<li>
<p>Talk prerequisite talks: A talk must be scheduled after all its prerequisite talks.</p>
</li>
<li>
<p>Talk mutually-exclusive-talks tags: Talks that share such tags must not be scheduled in overlapping timeslots.</p>
</li>
<li>
<p>Consecutive talks pause: A speaker who has more than one talk must have a break between them.</p>
</li>
<li>
<p>Generic purpose timeslot and room tags</p>
<div class="ulist">
<ul>
<li>
<p>Speaker required timeslot tags: If a speaker has a required timeslot tag, then all his/her talks must be assigned to a timeslot with that tag.</p>
</li>
<li>
<p>Speaker prohibited timeslot tags: If a speaker has a prohibited timeslot tag, then all his/her talks cannot be assigned to a timeslot with that tag.</p>
</li>
<li>
<p>Talk required timeslot tags: If a talk has a required timeslot tag, then it must be assigned to a timeslot with that tag.</p>
</li>
<li>
<p>Talk prohibited timeslot tags: If a talk has a prohibited timeslot tag, then it cannot be assigned to a timeslot with that tag.</p>
</li>
<li>
<p>Speaker required room tags: If a speaker has a required room tag, then all his/her talks must be assigned to a room with that tag.</p>
</li>
<li>
<p>Speaker prohibited room tags: If a speaker has a prohibited room tag, then all his/her talks cannot be assigned to a room with that tag.</p>
</li>
<li>
<p>Talk required room tags: If a talk has a required room tag, then it must be assigned to a room with that tag.</p>
</li>
<li>
<p>Talk prohibited room tags: If a talk has a prohibited room tag, then it cannot be assigned to a room with that tag.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Medium constraints (unless configured otherwise):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Published timeslot: A published talk must not be scheduled at a different timeslot than currently published.
If a hard constraint&#8217;s input data changes after publishing (such as speaker unavailability), then this medium constraint will be
minimally broken to attain a new feasible solution.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints (unless configured otherwise):</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Published room: Minimize the number of talks scheduled in different rooms than published ones.</p>
</li>
<li>
<p>Theme track conflict: Minimize the number of talks that share a same theme tag during overlapping timeslots.</p>
</li>
<li>
<p>Theme track room stability: Talks with common theme track tag should be scheduled in the same room throughout the day.</p>
</li>
<li>
<p>Sector conflict: Minimize the number of talks that share a same sector tag during overlapping timeslots.</p>
</li>
<li>
<p>Content audience level flow violation: For every content tag, schedule the introductory talks before the advanced talks.</p>
</li>
<li>
<p>Audience level diversity: For every timeslot, maximize the number of talks with a different audience level.</p>
</li>
<li>
<p>Language diversity: For every timeslot, maximize the number of talks with a different language.</p>
</li>
<li>
<p>Same day talks: All talks that share a theme track tag or content tag should be scheduled in the minimum number of days
(ideally in the same day).</p>
</li>
<li>
<p>Popular talks: Talks with higher <code>favoriteCount</code> should be scheduled in larger rooms.</p>
</li>
<li>
<p>Crowd control: Talks with higher <code>crowdControlRisk</code> should be scheduled in pairs at the same timeslot
to avoid having most participants going to the same room.</p>
</li>
<li>
<p>Generic purpose timeslot and room tags</p>
<div class="ulist">
<ul>
<li>
<p>Speaker preferred timeslot tag: If a speaker has a preferred timeslot tag, then all his/her talks should be assigned to a timeslot with that tag.</p>
</li>
<li>
<p>Speaker undesired timeslot tag: If a speaker has an undesired timeslot tag, then all his/her talks should not be assigned to a timeslot with that tag.</p>
</li>
<li>
<p>Talk preferred timeslot tag: If a talk has a preferred timeslot tag, then it should be assigned to a timeslot with that tag.</p>
</li>
<li>
<p>Talk undesired timeslot tag: If a talk has an undesired timeslot tag, then it should not be assigned to a timeslot with that tag.</p>
</li>
<li>
<p>Speaker preferred room tag: If a speaker has a preferred room tag, then all his/her talks should be assigned to a room with that tag.</p>
</li>
<li>
<p>Speaker undesired room tag: If a speaker has an undesired room tag, then all his/her talks should not be assigned to a room with that tag.</p>
</li>
<li>
<p>Talk preferred room tag: If a talk has a preferred room tag, then it should be assigned to a room with that tag.</p>
</li>
<li>
<p>Talk undesired room tag: If a talk has an undesired room tag, then it should not be assigned to a room with that tag.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Every constraint can be configured to use a different score level (hard/medium/soft) or a different score weight.</p>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/conference-scheduling/conferenceSchedulingConstraints.png" alt="conferenceSchedulingConstraints">
</div>
</div>
</div>
<div class="sect2">
<h3 id="conferenceSchedulingValueProposition"><a class="anchor" href="#conferenceSchedulingValueProposition"></a>18.2. Value proposition</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/conference-scheduling/conferenceSchedulingValueProposition.png" alt="conferenceSchedulingValueProposition">
</div>
</div>
</div>
<div class="sect2">
<h3 id="conferenceSchedulingProblemSize"><a class="anchor" href="#conferenceSchedulingProblemSize"></a>18.3. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>18talks-6timeslots-5rooms    has  18 talks,  6 timeslots and  5 rooms with a search space of  10^26.
36talks-12timeslots-5rooms   has  36 talks, 12 timeslots and  5 rooms with a search space of  10^64.
72talks-12timeslots-10rooms  has  72 talks, 12 timeslots and 10 rooms with a search space of 10^149.
108talks-18timeslots-10rooms has 108 talks, 18 timeslots and 10 rooms with a search space of 10^243.
216talks-18timeslots-20rooms has 216 talks, 18 timeslots and 20 rooms with a search space of 10^552.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="conferenceSchedulingArchitecture"><a class="anchor" href="#conferenceSchedulingArchitecture"></a>18.4. Architecture</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/conference-scheduling/conferenceSchedulingArchitecture.png" alt="conferenceSchedulingArchitecture">
</div>
</div>
</div>
<div class="sect2">
<h3 id="conferenceSchedulingDomainModel"><a class="anchor" href="#conferenceSchedulingDomainModel"></a>18.5. Domain model</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/conference-scheduling/conferenceSchedulingClassDiagram.png" alt="conferenceSchedulingClassDiagram">
</div>
</div>
</div>
<div class="sect2">
<h3 id="conferenceSchedulingSearchSpace"><a class="anchor" href="#conferenceSchedulingSearchSpace"></a>18.6. Search space</h3>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/conference-scheduling/conferenceSchedulingOptimalIsImperfect.png" alt="conferenceSchedulingOptimalIsImperfect">
</div>
</div>
<div class="imageblock text-center">
<div class="content">
<img src="../_images/use-cases-and-examples/conference-scheduling/conferenceSchedulingSearchSpace.png" alt="conferenceSchedulingSearchSpace">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rockTour"><a class="anchor" href="#rockTour"></a>19. Rock tour</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="rockTourProblemDescription"><a class="anchor" href="#rockTourProblemDescription"></a>19.1. Problem description</h3>
<div class="paragraph">
<p>Drive the rock bus from show to show, but schedule shows only on available days.</p>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Schedule every required show.</p>
</li>
<li>
<p>Schedule as many shows as possible.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Medium constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Maximize revenue opportunity.</p>
</li>
<li>
<p>Minimize driving time.</p>
</li>
<li>
<p>Visit sooner than later.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Avoid long driving times.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="rockTourProblemSize"><a class="anchor" href="#rockTourProblemSize"></a>19.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>47shows has 47 shows with a search space of 10^59.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="flightCrewScheduling"><a class="anchor" href="#flightCrewScheduling"></a>20. Flight crew scheduling</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="flightCrewSchedulingProblemDescription"><a class="anchor" href="#flightCrewSchedulingProblemDescription"></a>20.1. Problem description</h3>
<div class="paragraph">
<p>Assign flights to pilots and flight attendants.</p>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Required skill: each flight assignment has a required skill.
For example, flight AB0001 requires 2 pilots and 3 flight attendants.</p>
</li>
<li>
<p>Flight conflict: each employee can only attend one flight at the same time</p>
</li>
<li>
<p>Transfer between two flights: between two flights, an employee must be able to transfer from the arrival airport to the departure airport.
For example, Ann arrives in Brussels at 10:00 and departs in Amsterdam at 15:00.</p>
</li>
<li>
<p>Employee unavailability: the employee must be available on the day of the flight.
For example, Ann is on vacation on 1-Feb.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First assignment departing from home</p>
</li>
<li>
<p>Last assignment arriving at home</p>
</li>
<li>
<p>Load balance flight duration total per employee</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="flightCrewSchedulingProblemSize"><a class="anchor" href="#flightCrewSchedulingProblemSize"></a>20.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>175flights-7days-Europe  has 2 skills, 50 airports, 150 employees, 175 flights and  875 flight assignments with a search space of  10^1904.
700flights-28days-Europe has 2 skills, 50 airports, 150 employees, 700 flights and 3500 flight assignments with a search space of  10^7616.
875flights-7days-Europe  has 2 skills, 50 airports, 750 employees, 875 flights and 4375 flight assignments with a search space of 10^12578.
175flights-7days-US      has 2 skills, 48 airports, 150 employees, 175 flights and  875 flight assignments with a search space of  10^1904.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coachShuttleGathering"><a class="anchor" href="#coachShuttleGathering"></a>21. Coach shuttle gathering</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="coachShuttleGatheringProblemDescription"><a class="anchor" href="#coachShuttleGatheringProblemDescription"></a>21.1. Problem description</h3>
<div class="paragraph">
<p>Transport passengers to a hub by using coaches and
shuttles.</p>
</div>
<div class="paragraph">
<p>Hard constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Coach stop limit: each coach can only visit a limited
number of stops before arriving at the hub</p>
</li>
<li>
<p>Shuttle capacity: a shuttle can only hold a limited
number of passengers</p>
</li>
<li>
<p>Coach capacity: a coach can only hold a limited
number of passengers</p>
</li>
<li>
<p>Transport time: a passenger travelling from a particular
bus stop upon boarding a bus must arrive at the hub within
a specified amount of time</p>
</li>
<li>
<p>Shuttle destination is coach or hub: a shuttle&#8217;s
destination must be a bus stop that is visited by
a coach</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Soft constraints:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Shuttle setup cost: Cost of using a shuttle</p>
</li>
<li>
<p>Distance from previous: Minimize distance between
consecutive stops in routes</p>
</li>
<li>
<p>Distance bus stop to bus destination: Minimize
distance between the final stop in a route and the hub</p>
</li>
<li>
<p>Distance coach directly to destination: Minimize
distance for coaches that go directly to the hub</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="coachShuttleGatheringProblemSize"><a class="anchor" href="#coachShuttleGatheringProblemSize"></a>21.2. Problem size</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code>CoachShuttleGathering               example has  20 road locations, 3 coaches,   6 shuttles and  12 bus stops with a search space of 10^23.
CoachShuttleGathering public_preselection_1 has 193 road locations, 6 coaches, 333 shuttles and 144 bus stops with a search space of 10^1311.
CoachShuttleGathering public_preselection_2 has 193 road locations, 6 coaches, 333 shuttles and 144 bus stops with a search space of 10^1311.</code></pre>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../_/js/site.js"></script>
<script src="../../../_/js/vendor/lunr-2.3.9.min.js"></script>
<script src="../../../_/js/vendor/search.js" id="search-script" data-base-path="../../.." data-page-path="/optaplanner/latest/use-cases-and-examples/use-cases-and-examples.html"></script>
<script async src="../../../_/../search-index.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>

<!-- Adobe Analytics for Red Hat - DPAL (DTM Property Auto-Loader) - part 2/2 -->
<script type="text/javascript">
    if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
        _satellite.pageBottom();
    }
</script>  </body>
</html>
